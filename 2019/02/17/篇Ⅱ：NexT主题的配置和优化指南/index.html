<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">





<!-- 添加DaoVoice-->

  <script>
  (function(i,s,o,g,r,a,m){i["DaoVoiceObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset="utf-8";m.parentNode.insertBefore(a,m)})(window,document,"script",('https:' == document.location.protocol ? 'https:' : 'http:') + "//widget.daovoice.io/widget/0f81ff2f.js","daovoice")
  daovoice('init', {
      app_id: "a597e548"
    });
  daovoice('update');
  </script>

<!-- end -->













  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next2.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon2-32x32.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon2-16x16.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo2.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Blog,NexT,">





  <link rel="alternate" href="/atom.xml" title="Jaybo's Blog" type="application/atom+xml">






<meta name="description" content="NexT 主题的配置和优化指南。">
<meta name="keywords" content="Blog,NexT">
<meta property="og:type" content="article">
<meta property="og:title" content="篇Ⅱ：NexT主题的配置和优化指南">
<meta property="og:url" content="http://yoursite.com/2019/02/17/篇Ⅱ：NexT主题的配置和优化指南/index.html">
<meta property="og:site_name" content="Jaybo&#39;s Blog">
<meta property="og:description" content="NexT 主题的配置和优化指南。">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://img-1256179949.cos.ap-shanghai.myqcloud.com/20190216212041.png">
<meta property="og:image" content="https://img-1256179949.cos.ap-shanghai.myqcloud.com/20190216212307.png">
<meta property="og:image" content="https://neveryu.github.io/images/hexo-next-five-1.png">
<meta property="og:image" content="https://img-1256179949.cos.ap-shanghai.myqcloud.com/20190216135929.png">
<meta property="og:image" content="https://img-1256179949.cos.ap-shanghai.myqcloud.com/20190216143647.png">
<meta property="og:image" content="https://img-1256179949.cos.ap-shanghai.myqcloud.com/20190216134149.png">
<meta property="og:image" content="https://img-1256179949.cos.ap-shanghai.myqcloud.com/20190216021508.png">
<meta property="og:image" content="https://img-1256179949.cos.ap-shanghai.myqcloud.com/20190216155259.png">
<meta property="og:image" content="https://img-1256179949.cos.ap-shanghai.myqcloud.com/20190216155600.png">
<meta property="og:image" content="https://img-1256179949.cos.ap-shanghai.myqcloud.com/20190216161815.png">
<meta property="og:image" content="https://img-1256179949.cos.ap-shanghai.myqcloud.com/20190216162228.png">
<meta property="og:image" content="https://img-1256179949.cos.ap-shanghai.myqcloud.com/20190216174015.png">
<meta property="og:image" content="https://img-1256179949.cos.ap-shanghai.myqcloud.com/20190216185828.png">
<meta property="og:image" content="https://img-1256179949.cos.ap-shanghai.myqcloud.com/20190216165239.png">
<meta property="og:image" content="https://img-1256179949.cos.ap-shanghai.myqcloud.com/20190216165438.png">
<meta property="og:image" content="https://img-1256179949.cos.ap-shanghai.myqcloud.com/20190216165514.png">
<meta property="og:image" content="https://img-1256179949.cos.ap-shanghai.myqcloud.com/20190216171849.png">
<meta property="og:image" content="https://img-1256179949.cos.ap-shanghai.myqcloud.com/20190218151352.png">
<meta property="og:updated_time" content="2019-09-20T10:45:01.476Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="篇Ⅱ：NexT主题的配置和优化指南">
<meta name="twitter:description" content="NexT 主题的配置和优化指南。">
<meta name="twitter:image" content="https://img-1256179949.cos.ap-shanghai.myqcloud.com/20190216212041.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"copyright":true,"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2019/02/17/篇Ⅱ：NexT主题的配置和优化指南/">





<!-- 网页加载条 -->
<!--<script src="https://neveryu.github.io/js/src/pace.min.js"></script>-->


  <title>篇Ⅱ：NexT主题的配置和优化指南 | Jaybo's Blog</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?bdca14b99b0b7f832576340bab4558d8";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>
	<!--在右上角或者左上角实现fork me on github-->
	<!-- 这个为右上角，蓝色 -->
    <a href="https://github.com/strivebo/strivebo.github.io" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#70B7FD; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
	
	<header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Jaybo's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">斜杠青年</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-阅读">
          <a href="/reading" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-book"></i> <br>
            
            阅读
          </a>
        </li>
      
        
        <li class="menu-item menu-item-生活">
          <a href="/life" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-life-ring"></i> <br>
            
            生活
          </a>
        </li>
      
        
        <li class="menu-item menu-item-留言">
          <a href="/message" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-comments"></i> <br>
            
            留言
          </a>
        </li>
      
        
        <li class="menu-item menu-item-简历">
          <a href="http://resume.strivebo.com/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-file"></i> <br>
            
            简历
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/02/17/篇Ⅱ：NexT主题的配置和优化指南/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jaybo">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jaybo's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">篇Ⅱ：NexT主题的配置和优化指南</h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-02-17T20:01:08+08:00">
                2019-02-17
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index">
                    <span itemprop="name">Blog</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
				
                  <i class="fa fa-comment-o"></i>
                </span>
				<span class="post-meta-item-text">Comments：</span>
                <a href="/2019/02/17/篇Ⅱ：NexT主题的配置和优化指南/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/02/17/篇Ⅱ：NexT主题的配置和优化指南/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2019/02/17/篇Ⅱ：NexT主题的配置和优化指南/" class="leancloud_visitors" data-flag-title="篇Ⅱ：NexT主题的配置和优化指南">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                  <span class="post-meta-divider">|</span>
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words: </span>
                
                <span title="Words">
                  14,706 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time≈ </span>
                
                <span title="Reading time">
                  63 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>NexT 主题的配置和优化指南。<a id="more"></a></p>
<h2 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h2><p>(1) 什么是 Hexo：<a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="noopener">官网传送门</a></p>
<p>(2) Hexo 官网：<a href="https://hexo.io/" target="_blank" rel="noopener">Hexo.io</a></p>
<p>(3) Hexo 主题的选择：</p>
<ul>
<li>官网：<a href="https://hexo.io/themes/" target="_blank" rel="noopener">Themes | Hexo</a></li>
<li>GitHub：<a href="https://github.com/hexojs/hexo/wiki/Themes" target="_blank" rel="noopener">Themes · hexojs</a></li>
<li>知乎：<a href="https://www.zhihu.com/question/24422335" target="_blank" rel="noopener">有哪些好看的 Hexo 主题？</a> </li>
</ul>
<p>本人使用主题为 NexT v5.1.4。搭建过程各个软件和工具的版本信息如下：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">nodejs：v8.10.0</span><br><span class="line">npm：5.6.0  #命令 npm -v 可以查看到</span><br><span class="line">NexT主题版本：5.1.4  #打开站点配置文件_config.yml搜索version可以找到</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注：新版的 NexT 主题源码早已转移在了这个仓库 &lt;<a href="https://github.com/theme-next/hexo-theme-next" target="_blank" rel="noopener">https://github.com/theme-next/hexo-theme-next</a></p>
</blockquote>
<p><code>hexo version</code> 的信息如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">hexo-cli:1.1.0</span><br><span class="line">os:Windows_NT 6.1.7601 win32 x64</span><br><span class="line">http_parser:2.7.0</span><br><span class="line">node:8.10.0</span><br><span class="line">v8:6.2.414.50</span><br><span class="line">uv:1.19.1</span><br><span class="line">z1ib:1.2.11</span><br><span class="line">ares:1.10.1-DEU modules:57</span><br><span class="line">nghttp2:1.25.0openss1:1.0.2n icu:60.1</span><br><span class="line">unicode:10.0</span><br><span class="line">cldr:32.0</span><br><span class="line">tz:2017c</span><br></pre></td></tr></table></figure>
<h2 id="一、主题基本配置"><a href="#一、主题基本配置" class="headerlink" title="一、主题基本配置"></a>一、主题基本配置</h2><p>关于博客主题的选择问题，考虑了很久一直决定不下来选哪个主题合适，在尝试了多个觉得不错的主题之后，最终还是决定选择 GitHub 最多 star 的 NexT 主题了。有那么多人在用，普遍大众应该还是很认可的。NexT 主题版本更新日志和下载：<a href="https://theme-next.org/" target="_blank" rel="noopener">NexT – Theme for Hexo</a> | <a href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="noopener">NexT主题 - GitHub</a></p>
<p>关于这个主题的相关配置、优化定制网上容易找到非常多的资料，但基本的配置，还是建议直接看官方文章：</p>
<ul>
<li><a href="http://theme-next.iissnan.com/theme-settings.html" target="_blank" rel="noopener">主题配置 - NexT 使用文档</a></li>
<li><a href="https://github.com/iissnan/hexo-theme-next/wiki/%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE%E5%8F%82%E8%80%83" target="_blank" rel="noopener">主题配置参考 · iissnan/hexo-theme-next Wiki</a>（ NexT 主题 GitHub 上其 wiki 页面关于主题设置教程）</li>
</ul>
<p>本文会介绍 NexT 主题大部分的基本配置修改以及优化定制博客。</p>
<p>网上比较全面的修改指南，供参考：</p>
<ul>
<li>2016-04-07 <a href="http://www.lzblog.cn/2016/04/07/Hexo%E7%AB%99%E7%82%B9%E3%80%81NexT%E4%B8%BB%E9%A2%98%E4%BF%AE%E6%94%B9%E5%85%A8%E8%AE%B0%E5%BD%95/" target="_blank" rel="noopener">Hexo站点、NexT主题修改全记录</a></li>
<li>2018-05-01 <a href="https://segmentfault.com/a/1190000014676320" target="_blank" rel="noopener">关于Hexo6.0搭建个人博客(进阶篇)</a></li>
<li>2017-05-24 <a href="https://segmentfault.com/a/1190000009544924" target="_blank" rel="noopener">hexo的next主题个性化配置教程</a></li>
<li>……</li>
</ul>
<h3 id="0-主题设置-动态背景-显示当前浏览进度"><a href="#0-主题设置-动态背景-显示当前浏览进度" class="headerlink" title="(0) 主题设置/动态背景/显示当前浏览进度"></a>(0) 主题设置/动态背景/显示当前浏览进度</h3><p>(1) 主题设置</p>
<p>主题设定：打开主题配置文件，搜索 scheme 关键字。 你会看到有四行 scheme 的配置。我选择了 scheme: Pisces，下面是我的设置：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># Schemes</span><br><span class="line">#scheme: Muse</span><br><span class="line">#scheme: Mist</span><br><span class="line">scheme: Pisces</span><br><span class="line">#scheme: Gemini</span><br></pre></td></tr></table></figure>
<ul>
<li>Muse：默认 Scheme，这是 NexT 最初的版本，黑白主调，大量留白</li>
<li><p>Mist：Muse 的紧凑版本，整洁有序的单栏外观</p>
</li>
<li><p>Pisces：双栏 Scheme，小家碧玉似的清新</p>
</li>
<li>Gemini：左侧网站信息及目录，块+片段结构布局 </li>
</ul>
<p>(2) 动态背景</p>
<p>目前 NexT 主题有 4 种动态背景：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Canvas-nest</span><br><span class="line">three_waves</span><br><span class="line">canvas_lines</span><br><span class="line">canvas_sphere</span><br></pre></td></tr></table></figure>
<p>设置方法很简单，直接设置里需要的动态背景为<code>true</code>。</p>
<p>(3) 显示当前浏览进度</p>
<p>修改<code>themes/next/_config.yml</code>， scrollpercent 值由 <code>false</code> 改为 <code>true</code>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># Scroll percent label in b2t button</span><br><span class="line">scrollpercent: true</span><br></pre></td></tr></table></figure>
<h3 id="1-关于文章所属「分类」和「标签」的设置"><a href="#1-关于文章所属「分类」和「标签」的设置" class="headerlink" title="(1) 关于文章所属「分类」和「标签」的设置"></a>(1) 关于文章所属「分类」和「标签」的设置</h3><p>之前我使用的别的主题，只要在 source 文件夹下新建的文章前面按如下格式表明所属分类和标签：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">title: 自学编程成功概率有多少可能</span><br><span class="line">date: 2017-05-26 19:57:47</span><br><span class="line">tags: [编程,感悟]</span><br><span class="line">categories: 技术</span><br></pre></td></tr></table></figure>
<p>但是在 NexT 主题下的设置的步骤如下：</p>
<p>1) 先<code>hexo new page categories</code>新建 categorier 文件夹，其中会自动生成一个<code>index.md</code>文件，修改（即添加一行）为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: categories</span><br><span class="line">date: 2018-01-23 17:14:51</span><br><span class="line">type: &quot;categories&quot;</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<p>同理，「标签」也一样，<code>hexo new page tags</code>，生成 tags 文件夹，其中会自动生成一个<code>index.md</code>文件，修改为：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: tags</span><br><span class="line">date: 2018-01-23 17:14:51</span><br><span class="line">type: &quot;tags&quot;</span><br><span class="line">---</span><br></pre></td></tr></table></figure></p>
<p>2) 然后写的博客文章，表明所属「分类」和拥有哪些「标签」，官方文档所说的格式如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">categories:</span><br><span class="line">- Diary</span><br><span class="line">tags:</span><br><span class="line">- PS3</span><br><span class="line">- Games</span><br></pre></td></tr></table></figure>
<p>但是我亲测，如下也是可以的：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">categories: 技术</span><br><span class="line">tags: [编程,感悟]</span><br></pre></td></tr></table></figure></p>
<p>另外，对于 NexT 这个主题，对于「关于」这个菜单和上面新建分类和标签一样，也是需要手动创建文件夹的，<code>hexo new page about</code>，这样会生成 about 文件夹，同时自动生成<code>index.md</code>文件，然后可以在这个<code>.md</code>文件中写上自我个人介绍。（亲测过，<code>index.md</code>这个文件的名字不能修改，否则「关于」菜单出错）</p>
<p>关于这部分的设置，官方文档称其为「Front-matter」，「Front-matter」 是文件最上方以 <code>---</code> 分隔的区域，用于指定个别文件的变量，举例来说：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: Hello World</span><br><span class="line">date: 2013/7/13 20:46:25</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<p>以下是预先定义的参数，您可在模板中使用这些参数值并加以利用。</p>
<table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">layout</td>
<td>布局</td>
<td></td>
</tr>
<tr>
<td style="text-align:left">title</td>
<td>标题</td>
<td></td>
</tr>
<tr>
<td style="text-align:left">date</td>
<td>建立日期</td>
<td>文件建立日期</td>
</tr>
<tr>
<td style="text-align:left">updated</td>
<td>更新日期</td>
<td>文件更新日期</td>
</tr>
<tr>
<td style="text-align:left">comments</td>
<td>开启文章的评论功能</td>
<td>true</td>
</tr>
<tr>
<td style="text-align:left">tags</td>
<td>标签（不适用于分页）</td>
<td></td>
</tr>
<tr>
<td style="text-align:left">categories</td>
<td>分类（不适用于分页）</td>
<td></td>
</tr>
<tr>
<td style="text-align:left">permalink</td>
<td>覆盖文章网址</td>
</tr>
</tbody>
</table>
<h3 id="2-添加本地添加搜索菜单"><a href="#2-添加本地添加搜索菜单" class="headerlink" title="(2) 添加本地添加搜索菜单"></a>(2) 添加本地添加搜索菜单</h3><p>1) 安装 <code>hexo-generator-searchdb</code> 插件：<code>npm install hexo-generator-searchdb --save</code> </p>
<p>2) 打开站点配置文件找到 Extensions 在下面添加（其实，新增以下内容到任意位置即可）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">search:</span><br><span class="line">      path: search.xml</span><br><span class="line">      field: post</span><br><span class="line">      format: html</span><br><span class="line">      limit: 10000</span><br></pre></td></tr></table></figure>
<p>3) 打开主题配置文件找到 Local search，将 enable 设置为 true，启动本地搜索功能，这样就能在页面可以看到搜索菜单了：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># Local search</span><br><span class="line">local_search:</span><br><span class="line">  enable: true</span><br></pre></td></tr></table></figure>
<h3 id="3-添加文章字数统计、阅读时长（next主题已经集成）"><a href="#3-添加文章字数统计、阅读时长（next主题已经集成）" class="headerlink" title="(3) 添加文章字数统计、阅读时长（next主题已经集成）"></a>(3) 添加文章字数统计、阅读时长（next主题已经集成）</h3><p>Hexo 提供了 <code>hexo-wordcount</code> 插件，新版本的 next 中集成了这一点，只需要安装插件然后开启功能就 ok。</p>
<p>第一步：安装 word_count 插件，在博客根目录下打开终端：<code>npm install hexo-wordcount --save</code></p>
<p> 第二步：在主题配置文件 <code>Blog\themes\next\config.yml</code> 中打开 post_wordcount 统计功能：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># Post wordcount display settings</span><br><span class="line"># Dependencies: https://github.com/willin/hexo-wordcount</span><br><span class="line">post_wordcount:</span><br><span class="line">  item_text: true</span><br><span class="line">  wordcount: true # 单篇 字数统计</span><br><span class="line">  min2read: true # 单篇 阅读时长</span><br><span class="line">  totalcount: false # 网站 字数统计</span><br><span class="line">  separated_meta: true</span><br></pre></td></tr></table></figure>
<p>如果仅仅只是打开 wordcount、min2read，部署之后会发现文章的【字数统计】和【阅读时长】后面没有对应的 xxx 字，xx 分钟等字样，只有光秃秃的数字在那里。</p>
<p>解决方案：找到 \themes\next\layout_macro\post.swig 文件，将“字”、“分钟” 字样添加到如下位置即可。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;span title=&quot;&#123;&#123; __(&apos;post.wordcount&apos;) &#125;&#125;&quot;&gt;</span><br><span class="line">     &#123;&#123; wordcount(post.content) &#125;&#125; 字</span><br><span class="line">&lt;/span&gt;</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line">&lt;span title=&quot;&#123;&#123; __(&apos;post.min2read&apos;) &#125;&#125;&quot;&gt;</span><br><span class="line">     &#123;&#123; min2read(post.content) &#125;&#125; 分钟</span><br><span class="line">&lt;/span&gt;</span><br></pre></td></tr></table></figure>
<p>然后才可以看到显示：<code>阅读时长 ≈ 2 分钟</code>，但若是不需要显示 <code>≈</code> ，就修改这个地方：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if theme.post_wordcount.item_text %&#125;</span><br><span class="line">        &lt;span class=&quot;post-meta-item-text&quot;&gt;&#123;&#123; __(&apos;post.min2read&apos;) &#125;&#125; &amp;asymp;&lt;/span&gt;</span><br><span class="line"> &#123;% endif %&#125;</span><br></pre></td></tr></table></figure>
<p>把这里的<code>&amp;asymp;</code>删除即可。</p>
<p>注：如果想要在文章中使用，可以这样插入 <code>&lt;i class=&quot;fa fa-smile-o&quot; style=&quot;font-size:28px;color:#FF8247;&quot;&gt;&lt;/i&gt;</code> 即可使用。</p>
<p>参考：<a href="http://www.crocutax.com/2017/05/11/Hexo%E6%B7%BB%E5%8A%A0%E5%AD%97%E6%95%B0%E7%BB%9F%E8%AE%A1%E3%80%81%E9%98%85%E8%AF%BB%E6%97%B6%E9%95%BF%E3%80%81%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5/" target="_blank" rel="noopener">Hexo添加字数统计、阅读时长、友情链接</a></p>
<h3 id="4-设置友情链接"><a href="#4-设置友情链接" class="headerlink" title="(4) 设置友情链接"></a>(4) 设置友情链接</h3><p>在主题配置文件添加，示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># title</span><br><span class="line">links_title: Links</span><br><span class="line">links:</span><br><span class="line">  MacTalk: http://macshuo.com/</span><br><span class="line">  Title: http://example.com/</span><br></pre></td></tr></table></figure>
<p>另外，侧边栏友情链接及菜单等旁边的图标，可以到 <a href="https://fontawesome.com/icons?from=io" target="_blank" rel="noopener">图标库</a> 找到自己喜欢的图标然后复制到相应代码中，也可以到这里找：<a href="http://fontawesome.dashgame.com/" target="_blank" rel="noopener">Font Awesome，一套绝佳的图标字体库和CSS框架</a>。</p>
<h3 id="5-设置侧边栏头像"><a href="#5-设置侧边栏头像" class="headerlink" title="(5) 设置侧边栏头像"></a>(5) 设置侧边栏头像</h3><p>编辑主题的 <code>_config.yml</code>，新增字段 <code>avatar</code>， 值设置成头像的链接地址。</p>
<p>其中，头像的链接地址可以是：</p>
<ol>
<li>完整的互联网 URL，例如：<code>https://avatars1.githubusercontent.com/u/32269?v=3&amp;s=460</code></li>
<li>站点内的地址，例如：<ul>
<li><code>/uploads/avatar.jpg</code> 需要将你的头像图片放置在 <code>站点的 source/uploads/</code>（可能需要新建<code>uploads</code>目录）</li>
<li><code>/images/avatar.jpg</code> 需要将你的头像图片放置在 <code>主题的 source/images/</code> 目录下。</li>
</ul>
</li>
</ol>
<h3 id="6-设置订阅微信公众号"><a href="#6-设置订阅微信公众号" class="headerlink" title="(6) 设置订阅微信公众号"></a>(6) 设置订阅微信公众号</h3><blockquote>
<p>注：此特性在版本 5.0.1 中引入，要使用此功能请确保所使用的 NexT 版本在此之后。</p>
</blockquote>
<p>在每篇文章的末尾显示微信公众号二维码，扫一扫，轻松订阅博客。将公众号二维码存放于博客<code>source/uploads/</code>目录下。然后编辑 主题配置文件，示例如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># Wechat Subscriber</span><br><span class="line">wechat_subscriber:</span><br><span class="line">  enabled: false</span><br><span class="line">  qcode: /uploads/wechat.jpg</span><br><span class="line">  description: 欢迎扫描二维码关注公众号一起成长~</span><br></pre></td></tr></table></figure>
<h3 id="7-开启打赏、禁用打赏文字抖动"><a href="#7-开启打赏、禁用打赏文字抖动" class="headerlink" title="(7) 开启打赏、禁用打赏文字抖动"></a>(7) 开启打赏、禁用打赏文字抖动</h3><p><strong>1、开启打赏</strong></p>
<p>越来越多的平台（微信公众平台，新浪微博，简书，百度打赏等）支持打赏功能，付费阅读时代越来越近，特此增加了打赏功能，支持微信打赏和支付宝打赏。 只需要主题配置文件中填入微信和支付宝收款二维码图片地址即可开启该功能。打赏功能配置示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">reward_comment: 坚持原创技术分享，您的支持将鼓励我继续创作！</span><br><span class="line">wechatpay: /path/to/wechat-reward-image</span><br><span class="line">alipay: /path/to/alipay-reward-image</span><br></pre></td></tr></table></figure>
<p>本人操作：把收款二维码存放在了 NexT 主题的<code>source/uploads/</code>目录下，然后配置如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># Reward  赞赏  </span><br><span class="line">reward_comment: 觉得文章对您有帮助请我喝杯咖啡吧^_^ </span><br><span class="line">wechatpay: /uploads/wechatpay.jpg</span><br><span class="line">alipay: /uploads/alipay.jpg</span><br></pre></td></tr></table></figure>
<p><strong>2、禁用打赏文字抖动</strong></p>
<p>1）方法一：</p>
<p>具体的做法就是注释掉文字抖动函数，文件路径：<code>/themes/next/source/css/_common/components/post/post-reward.styl</code></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">## 注释打赏文字抖动函数，将下面代码注释掉</span><br><span class="line">#wechat:hover p&#123;</span><br><span class="line">    animation: roll 0.1s infinite linear;</span><br><span class="line">    -webkit-animation: roll 0.1s infinite linear;</span><br><span class="line">    -moz-animation: roll 0.1s infinite linear;</span><br><span class="line">&#125;</span><br><span class="line">#alipay:hover p&#123;</span><br><span class="line">    animation: roll 0.1s infinite linear;</span><br><span class="line">    -webkit-animation: roll 0.1s infinite linear;</span><br><span class="line">    -moz-animation: roll 0.1s infinite linear;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>方法二：</p>
<p>可以在 <code>themes\next\source\css\_custom\custom.styl</code> 中添加重叠样式（推荐）：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//二维码不抖动</span><br><span class="line">#wechat:hover p, #alipay:hover p &#123;</span><br><span class="line">    animation: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="8-添加RSS订阅功能"><a href="#8-添加RSS订阅功能" class="headerlink" title="(8) 添加RSS订阅功能"></a>(8) 添加RSS订阅功能</h3><p><code>RSS(Really Simple Syndication)</code> 简易信息聚合，在互联网上被广泛采用的内容包装和投递协。是一种描述同步网站内容的格式，使用 <code>xml</code> 格式。当网站内容更新时，可以通过订阅 <code>RSS</code> 源在 <code>RSS</code> 阅读器上获取更新的信息。大多数内容提供的网站都会提供 <code>RSS</code> 订阅的功能，方便用户去获取最新的内容。</p>
<p>这里主介绍怎么给自己的 <code>hexo</code> 博客添加 <code>RSS</code> 源。</p>
<p>①在 hexo 的根目录下执行命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-feed --save</span><br></pre></td></tr></table></figure>
<p>②在主题配置文件 <code>/theme/next/_config.yml</code> 文件中配置该插件：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">feed:</span><br><span class="line">    type: atom</span><br><span class="line">    path: atom.xml</span><br><span class="line">    limit: 20</span><br><span class="line">    hub:</span><br><span class="line">    content:</span><br><span class="line">    content_limit:</span><br><span class="line">    content_limit_delim: ' '</span><br></pre></td></tr></table></figure>
<p>参数的含义：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">type: RSS的类型(atom/rss2)</span><br><span class="line">path: 文件路径,默认是atom.xml/rss2.xml</span><br><span class="line">limit: 展示文章的数量,使用0或则false代表展示全部</span><br><span class="line">hub:</span><br><span class="line">content: 在RSS文件中是否包含内容 ,有3个值 true/false默认不填为false</span><br><span class="line">content_limit: 指定内容的长度作为摘要,仅仅在上面content设置为false和没有自定义的描述出现</span><br><span class="line">content_limit_delim: 上面截取描述的分隔符,截取内容是以指定的这个分隔符作为截取结束的标志.在达到规定的内容长度之前最后出现的这个分隔符之前的内容,，防止从中间截断.</span><br></pre></td></tr></table></figure>
<p>此外还有一种方法，就是在 <code>next</code> 主题的 <code>_config.yml</code> 文件中有个 <code>rss</code> 的配置，直接设置为 <code>true</code> 就可以了。</p>
<p>配置好之后运行 <code>hexo g</code>就可以找到你博客的 <code>pubilc</code> 文件夹下发现 <code>atom.xml</code> 文件了，然后运行 <code>hexo</code> 服务就可以在个人站点处看到 <code>RSS</code> 的订阅图标了,点击这个图标就可以出现 <code>RSS</code> 订阅的地址,就可以添加到你的 <code>RSS</code> 阅读器方便查看博客的最新文章。</p>
<p>参考：<a href="https://segmentfault.com/a/1190000012647294" target="_blank" rel="noopener">为hexo博客添加RSS订阅功能</a></p>
<h3 id="9-文章字数统计、阅读时长开启和关闭，以及使用图标还是文本"><a href="#9-文章字数统计、阅读时长开启和关闭，以及使用图标还是文本" class="headerlink" title="(9) 文章字数统计、阅读时长开启和关闭，以及使用图标还是文本"></a>(9) 文章字数统计、阅读时长开启和关闭，以及使用图标还是文本</h3><p>打开 NexT 主题配置文件 <code>_config.yml</code>，修改：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">post_wordcount:</span><br><span class="line">  item_text: true # 文章 字数统计 阅读时长 使用图标 还是 文本表示</span><br><span class="line">  wordcount: true</span><br><span class="line">  min2read: true</span><br><span class="line">  totalcount: false</span><br><span class="line">  separated_meta: false # 是否换行显示 字数统计 及 阅读时长</span><br></pre></td></tr></table></figure>
<p>参考：<a href="https://shjhe.github.io/hexo/2018/07/04/Hexo%20Next%E4%B8%BB%E9%A2%98%E5%BC%80%E5%90%AF%E5%AD%97%E6%95%B0%E7%BB%9F%E8%AE%A1%E5%8F%8A%E9%98%85%E8%AF%BB%E6%97%B6%E9%95%BF/" target="_blank" rel="noopener">Hexo Next主题开启字数统计及阅读时长</a></p>
<p>另外，如果想要把「发表于」、「分类于」、「阅读时长」修改为英文，可以打开 <code>\themes\next\languages\zh-Hans.yml</code> 文件，修改 posted、visitors 等值为英文，如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">post:</span><br><span class="line">  created: 创建于</span><br><span class="line">  modified: 更新于</span><br><span class="line">  sticky: 置顶</span><br><span class="line">  posted: Posted on #发表于</span><br><span class="line">  visitors: Visitors #阅读次数 </span><br><span class="line">  in: In #分类于</span><br><span class="line">  read_more: 阅读全文</span><br><span class="line">  untitled: 未命名</span><br><span class="line">  toc_empty: 此文章未包含目录</span><br><span class="line">  wordcount: 字数统计</span><br><span class="line">  min2read: 阅读时长</span><br><span class="line">  totalcount: Site words total count</span><br></pre></td></tr></table></figure>
<h3 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h3><p>我在配置过程中有被官方文档坑了，目前猜测是官方文档没及时更新原因。在此，我记录下遇到的坑：</p>
<h4 id="1）菜单图标显示异常"><a href="#1）菜单图标显示异常" class="headerlink" title="1）菜单图标显示异常"></a>1）菜单图标显示异常</h4><p>问题：「首页」、「分类」、「标签」等这些菜单旁边的图标都显示是问号，未显示正常图标，我按照官方示例配置是这样的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  home: / </span><br><span class="line">  categories: /categories/  </span><br><span class="line">  tags: /tags/  </span><br><span class="line">  archives: /archives/  </span><br><span class="line">  about: /about/    </span><br><span class="line">  #schedule: /schedule/ || calendar</span><br><span class="line">  #sitemap: /sitemap.xml || sitemap</span><br><span class="line">  #公益: /404/ || heartbeat</span><br><span class="line"></span><br><span class="line"># Enable/Disable menu icons.    </span><br><span class="line">menu_icons:</span><br><span class="line">  enable: true</span><br><span class="line">  home: home</span><br><span class="line">  about: user</span><br><span class="line">  categories: th</span><br><span class="line">  tags: tags</span><br></pre></td></tr></table></figure>
<p>网上很多文章写的都是上面那样的配置，但后来找到原因了，真正的配置是下面这样的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  home: / || home</span><br><span class="line">  archives: /archives || archive</span><br><span class="line">  categories: /categories || th</span><br><span class="line">  tags: /tags || tags</span><br><span class="line">  about: /about || user</span><br><span class="line">  </span><br><span class="line">menu_icons:</span><br><span class="line">  enable: true</span><br></pre></td></tr></table></figure>
<p>原来 NexT 这个主题中的「菜单设置」被注释掉的那些配置样例，才是正确的配置。OS：官方文档真是坑人啊。</p>
<h4 id="2）友情链接图标显示异常"><a href="#2）友情链接图标显示异常" class="headerlink" title="2）友情链接图标显示异常"></a>2）友情链接图标显示异常</h4><p>问题：「友情链接」图标未正常显示。</p>
<p>官方文档包括网上很多文章写的都是如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">social:</span><br><span class="line">  GitHub: https://github.com/yourname</span><br><span class="line">  邮箱: mailto:test@gamil.com</span><br><span class="line">social_icons:</span><br><span class="line">  enable: true</span><br><span class="line">  icons_only: false</span><br><span class="line">  transition: false</span><br><span class="line">  GitHub: github</span><br><span class="line">  邮箱: envelope</span><br></pre></td></tr></table></figure>
<p>但正确配置其实是如下，和菜单配置类似：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">social:</span><br><span class="line">  GitHub: https://github.com/yourname || github</span><br><span class="line">  邮箱: mailto:test@gamil.com || envelope</span><br><span class="line">social_icons:</span><br><span class="line">  enable: true</span><br><span class="line">  icons_only: false</span><br><span class="line">  transition: false</span><br></pre></td></tr></table></figure>
<h2 id="二、进阶优化配置"><a href="#二、进阶优化配置" class="headerlink" title="二、进阶优化配置"></a>二、进阶优化配置</h2><p>添加第三方服务，官网文档：<a href="https://theme-next.iissnan.com/third-party-services.html" target="_blank" rel="noopener">第三方服务集成 - NexT 使用文档</a>。</p>
<ul>
<li>评论系统</li>
<li>数据统计与分析</li>
<li>内容分享服务</li>
<li>搜索服务</li>
<li>其他服务</li>
</ul>
<h3 id="1-在线联系（DaoVoice）"><a href="#1-在线联系（DaoVoice）" class="headerlink" title="(1) 在线联系（DaoVoice）"></a>(1) 在线联系（DaoVoice）</h3><p>参考：  <a href="http://shenzekun.cn/hexo%E7%9A%84next%E4%B8%BB%E9%A2%98%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B.html" target="_blank" rel="noopener">hexo的next主题个性化教程:打造炫酷网站</a>（含全站总字数、DaoVoice 在线联系等等）。</p>
<p>首先在 <a href="https://account.daocloud.io/signin" target="_blank" rel="noopener">DaoVoice</a> 注册账号，注册完成后会得到一个 app_id，记下这个 app_id 的值，然后打开 <code>/themes/next/layout/_partials/head.swig</code>，写下如下代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if theme.daovoice %&#125;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">  (function(i,s,o,g,r,a,m)&#123;i[&quot;DaoVoiceObject&quot;]=r;i[r]=i[r]||function()&#123;(i[r].q=i[r].q||[]).push(arguments)&#125;,i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=&quot;utf-8&quot;;m.parentNode.insertBefore(a,m)&#125;)(window,document,&quot;script&quot;,(&apos;https:&apos; == document.location.protocol ? &apos;https:&apos; : &apos;http:&apos;) + &quot;//widget.daovoice.io/widget/0f81ff2f.js&quot;,&quot;daovoice&quot;)</span><br><span class="line">  daovoice(&apos;init&apos;, &#123;</span><br><span class="line">      app_id: &quot;&#123;&#123;theme.daovoice_app_id&#125;&#125;&quot;</span><br><span class="line">    &#125;);</span><br><span class="line">  daovoice(&apos;update&apos;);</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure>
<p>接着打开主题配置文件，在最后写下如下代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># Online contact </span><br><span class="line">daovoice: true</span><br><span class="line">daovoice_app_id: 这里填你的获得的 app_id</span><br></pre></td></tr></table></figure>
<blockquote>
<p><em>注1：安装成功后可以在 DaoVoice 控制台上的聊天设置里设置聊天窗口样式。</em></p>
<p><em>注2：我的 DaoVoice 账户注册使用的 GitHub 账户。</em></p>
</blockquote>
<h3 id="2-评论Disqus和文章显示评论数——已更换为LeanCloud的Valine评论功能"><a href="#2-评论Disqus和文章显示评论数——已更换为LeanCloud的Valine评论功能" class="headerlink" title="(2) 评论Disqus和文章显示评论数——已更换为LeanCloud的Valine评论功能"></a>(2) 评论Disqus和文章显示评论数——已更换为LeanCloud的Valine评论功能</h3><p>Disqus 官网：<a href="https://disqus.com/" target="_blank" rel="noopener">https://disqus.com/</a> （本人使用的是谷歌账号注册和登录）</p>
<p>NexT 主题集成 Disqus 评论，可以打开 NexT 配置文件 <code>_config.yml</code> 搜索「disqus」可以找到。</p>
<p>一开始我采用了 Disqus 评论，操作参考：<a href="http://www.cylong.com/blog/2017/03/26/hexo-next-disqus/" target="_blank" rel="noopener">Hexo 集成 Disqus 评论</a>。在完成 Disqus 网站注册和配置后（如何配置就不说了，看链接），打开 NexT 主题配置文件 <code>config.yml</code> 文件。</p>
<p>①大于等于 5.1.1 版本，将 disqus 下的 enable 设定为 true，同时提供你的 shortname，count 用于指定是否显示评论数量：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">disqus:</span><br><span class="line">  enable: true</span><br><span class="line">  shortname:</span><br><span class="line">  count: true</span><br></pre></td></tr></table></figure>
<blockquote>
<p>enable 和 count 都设置为 true 后，这样你的所有文章会显示评论数，及页面下面会自动加载 Disqus 的评论插件。 </p>
</blockquote>
<p>②小于 5.1.1 版本，设定 disqus_shortname 的值即可：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">disqus_shortname: shortname</span><br></pre></td></tr></table></figure>
<p>接下来就可以进入后台管理设置你的评论了。</p>
<p><strong><em>——update：2019-02-14 已弃用 Disqus 评论。参考了知乎文章：<a href="https://www.zhihu.com/question/267598518" target="_blank" rel="noopener">Hexo（NexT 主题）评论系统哪个好？ - 知乎</a>，采用了  Valine，不用登陆就可以用。</em></strong> </p>
<blockquote>
<p><em>顺便提一下关于几个评论系统的介绍：多说和网易云已经倒下了，其次畅言需要备案，Disqus， Hypercomments 和 LiveRe 都是国外的，加载速度贼慢。</em></p>
</blockquote>
<p><strong><em>Valine 设置步骤：</em></strong></p>
<ol>
<li><p>先需要去注册一个账号：<a href="https://leancloud.cn/" target="_blank" rel="noopener">Leancloud官网，点我注册</a></p>
<p>注册完以后需要创建一个应用，名字可以随便起，然后 <strong>进入应用 -&gt; 设置 -&gt; 应用key</strong>，获取你的 appid 和 appkey。</p>
</li>
<li><p>拿到你的 appid 和 appkey 之后，打开主题配置文件 <code>_config.yml</code> 搜索 valine，填入 appid 和 appkey。</p>
</li>
</ol>
<p>我的配置：</p>
   <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">valine:</span><br><span class="line">    enable: true</span><br><span class="line">    appid: 你的appid    </span><br><span class="line">    appkey: 你的appkey </span><br><span class="line">    notify: false # mail notifier , https://github.com/xCss/Valine/wiki</span><br><span class="line">    verify: false # Verification code</span><br><span class="line">    placeholder: Just go go # comment box placeholder</span><br><span class="line">    avatar: mm # gravatar style   </span><br><span class="line">    guest_info: nick,mail,link # custom comment header</span><br><span class="line">    pageSize: 10 # pagination size</span><br></pre></td></tr></table></figure>
<p>另外：如果提示安全问题，请参考网上 <a href="https://11.tt/posts/2018/add-valine-to-your-blog/#%E9%85%8D%E7%BD%AE%E5%AE%89%E5%85%A8%E5%9F%9F%E5%90%8D" target="_blank" rel="noopener">该文</a> 添加安全域名。即在 Leancloud -&gt; 设置 -&gt; 安全中心 -&gt; Web 安全域名，把你的域名加进去。</p>
<p><strong><em>(1) Valine邮件提醒</em></strong></p>
<p>Valine 官方提供的邮件提醒功能是基于<code>Leancloud的密码重置邮件提醒</code>，操作步骤如下：</p>
<p>进入 <a href>Leancloud</a> -&gt; 选择你的评论所存放的<code>应用</code> -&gt; <code>设置</code> -&gt; <code>邮件模板</code>，按下图设置好用于<code>重置密码</code>的邮件主题&gt;然后保存：</p>
<ol>
<li><p>修改邮件主题：<code>你在 的评论收到了新的评论</code></p>
</li>
<li><p>修改内容：将下面的代码复制到“内容”中，并将其中的<code>你的网址首页链接</code>改为你的网址首页链接。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Hi, &#123;&#123;username&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    你在 &#123;&#123;appname&#125;&#125; 的评论收到了新的回复，请点击查看：</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"你的网址首页链接"</span> <span class="attr">style</span>=<span class="string">"display: inline-block; padding: 10px 20px; border-radius: 4px; background-color: #3090e4; color: #fff; text-decoration: none;"</span>&gt;</span>马上查看<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>点击“保存”按钮</p>
</li>
<li><p>修改 NexT 主题配置文件，搜索 <code>valine</code>（快速定位），将其中的<code>notify</code>改为<code>true</code>。</p>
</li>
</ol>
<p>设置完成后：</p>
<ol>
<li><p>发表评论需要像下面这样的验证</p>
<p><img src="https://img-1256179949.cos.ap-shanghai.myqcloud.com/20190216212041.png" alt></p>
</li>
<li><p>如果评论者 A 评论文章时候留下了邮箱，那么其他人比如 B，点击回复 A 的时候，那么 A 的邮箱就会收到相应的邮件通知，提示：</p>
<p><img src="https://img-1256179949.cos.ap-shanghai.myqcloud.com/20190216212307.png" alt></p>
<p>注意：点击查看，会跳转到评论的博客主页，而不是对应的评论文章。</p>
</li>
</ol>
<p>注意事项：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">- 发送次数过多，可能会暂时被Leancloud 屏蔽邮件发送功能</span><br><span class="line">- 由于`邮件提醒`功能使用的“Leancloud的密码重置邮件提醒”，只能传递`昵称`、`邮箱`两个属性，所以邮件提醒链接`无法直达指定文章页`。请悉知。</span><br><span class="line">- 开启`邮件提醒`会默认开启`验证码`选项。</span><br><span class="line">- 该功能目前还在测试阶段，谨慎使用。</span><br><span class="line">- 目前`邮件提醒`正处于测试阶段，仅在`子级`对存在邮件地址的`父级`发表评论时发送邮件</span><br></pre></td></tr></table></figure>
<p>参考：<a href="https://www.nhtzj.com/3315416634/" target="_blank" rel="noopener">NexT主题设置Valine评论系统邮件提醒</a></p>
<p><strong><em>(2)文章显示评论数问题：</em></strong> </p>
<p><strong>注意，换为  Valine 后，发现文章的评论数不显示，</strong>尝试了改动某处看是否能解决问题，发现解决了。操作这样的：把 disqus 的评论关闭，即设置主题配置文件下的 disqus 下的 enable 为 false，即可正常显示评论数。</p>
<h3 id="3-文章阅读次数（注：-使用的LeanCloud）"><a href="#3-文章阅读次数（注：-使用的LeanCloud）" class="headerlink" title="(3)文章阅读次数（注： 使用的LeanCloud）"></a>(3)文章阅读次数（注： 使用的LeanCloud）</h3><p>①打开 LeanCloud 官网，进入 <a href="https://leancloud.cn/login.html#/signup" target="_blank" rel="noopener">注册页面</a> 注册。完成邮箱激活后，点击头像，进入<code>控制台</code>页面，创建一个新应用(类型为<code>JavaScript SDK</code>)，点击应用进入；</p>
<p>②创建名称为 <code>Counter</code> 的 Class；</p>
<p>③修改配置文件，编辑网站根目录下的 <code>_config.yml</code> 文件，添加如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">leancloud_visitors:</span><br><span class="line">  enable: true</span><br><span class="line">  app_id: 你的app_id</span><br><span class="line">  app_key: 你的app_key</span><br></pre></td></tr></table></figure>
<p>其中，app_id 和 app_key 在你所创建的应用的<code>设置-&gt;应用Key</code>中。</p>
<p>注：为了保证应用的统计计数功能仅应用于自己的博客系统，你可以在<code>应用-&gt;设置-&gt;安全中心</code>的<code>Web安全域名</code>中加入自己的博客域名，以保证数据的调用安全。</p>
<p>参考：</p>
<ul>
<li><a href="https://notes.wanghao.work/2015-10-21-%E4%B8%BANexT%E4%B8%BB%E9%A2%98%E6%B7%BB%E5%8A%A0%E6%96%87%E7%AB%A0%E9%98%85%E8%AF%BB%E9%87%8F%E7%BB%9F%E8%AE%A1%E5%8A%9F%E8%83%BD.html#%E9%85%8D%E7%BD%AELeanCloud" target="_blank" rel="noopener">为NexT主题添加文章阅读量统计功能</a></li>
<li><a href="http://happywayq.com/Hexo%E7%9A%84NexT%E4%B8%BB%E9%A2%98%E4%BC%98%E5%8C%96-%E6%B7%BB%E5%8A%A0%E6%96%87%E7%AB%A0%E8%AE%BF%E9%97%AE%E6%95%B0%E5%92%8C%E7%AB%99%E7%82%B9%E8%AE%BF%E9%97%AE%E6%95%B0/" target="_blank" rel="noopener">Hexo之NexT主题优化（4）-添加文章访问数和站点访问数</a></li>
<li><a href="http://www.jeyzhang.com/hexo-next-add-post-views.html" target="_blank" rel="noopener">Hexo的NexT主题个性化：添加文章阅读量</a></li>
</ul>
<h3 id="4-动态背景、点击出现桃心效果、去除文章底部带-号的标签、文章下面标签样式更改"><a href="#4-动态背景、点击出现桃心效果、去除文章底部带-号的标签、文章下面标签样式更改" class="headerlink" title="(4 动态背景、点击出现桃心效果、去除文章底部带#号的标签、文章下面标签样式更改"></a>(4 动态背景、点击出现桃心效果、去除文章底部带#号的标签、文章下面标签样式更改</h3><p>修改模板 <code>/themes/next/layout/_macro/post.swig</code>，搜索 <code>rel=&quot;tag&quot;&gt;#</code>，将<code>#</code>换成：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;i class=&quot;fa fa-tag&quot;&gt;&lt;/i&gt;</span><br></pre></td></tr></table></figure>
<p>参考：<a href="https://blog.csdn.net/qq_32454537/article/details/79482896" target="_blank" rel="noopener">2018最新版Hexo博客Next主题6.0配置优化</a></p>
<p>标签样式更改，打开 <code>\themes\next\source\css\_custom\custom.styl</code>，添加：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">//文章下面的标签样式</span><br><span class="line"><span class="selector-class">.posts-expand</span> <span class="selector-class">.post-tags</span> <span class="selector-tag">a</span>&#123;</span><br><span class="line">	<span class="attribute">box-shadow</span>:<span class="number">0</span> <span class="number">1px</span> <span class="number">3px</span> <span class="built_in">rgba</span>(0,0,0,.12), <span class="number">0</span> <span class="number">1px</span> <span class="number">2px</span> <span class="built_in">rgba</span>(0,0,0,.24);</span><br><span class="line">	<span class="attribute">transition</span>:.<span class="number">2s</span> ease-out;</span><br><span class="line">	<span class="attribute">padding</span>: <span class="number">3px</span> <span class="number">5px</span>;</span><br><span class="line">	<span class="attribute">margin</span>: <span class="number">5px</span>;</span><br><span class="line">	<span class="attribute">background</span>: <span class="number">#eee</span>;</span><br><span class="line">	<span class="attribute">border-bottom</span>: none;</span><br><span class="line">	<span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">	&amp;:hover &#123;</span><br><span class="line">    color: $blue;</span><br><span class="line">    //text-decoration: underline;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-更改正文和代码的字体-更改内容区域的宽度"><a href="#5-更改正文和代码的字体-更改内容区域的宽度" class="headerlink" title="(5) 更改正文和代码的字体/更改内容区域的宽度"></a>(5) 更改正文和代码的字体/更改内容区域的宽度</h3><p><strong>(1) 更改正文和代码字体的样式和大小</strong> </p>
<p>NexT 从 5.0.1 版本开始提供一个字体定制特性。以下的修改将覆盖<code>source/css/_variables/base.styl</code>「字体定制」的特性。 编辑主题下的 <code>source/css/_variables/custom.styl</code> 文件，新增两个变量：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 正文字体的大小</span><br><span class="line">$font-size-base = 16px</span><br><span class="line"></span><br><span class="line">// 代码字体的大小</span><br><span class="line">$code-font-size = 14px</span><br></pre></td></tr></table></figure>
<p>注1：代码字体我设置的为 14px，正文字体设置的为 16px，字体族设置的为 <code>$font-family-base = Lato,&quot;PingFang SC&quot;,&quot;Microsoft YaHei&quot;,sans-serif</code>。</p>
<p>注2：关于代码大小设置，除了可以修改主题下的 <code>source/css/_variables/custom.styl</code> 文件，还可以通过修改同目录下的 <code>source/css/_variables/base.styl</code> 文件达到同一目的，base.styl 会覆盖 custom.style 的修改。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// Code &amp; Code Blocks</span><br><span class="line">// --------------------------------------------------</span><br><span class="line">$code-font-family               = $font-family-monospace</span><br><span class="line">$code-font-size                 = 15px</span><br></pre></td></tr></table></figure>
<p>另外，代码大小设置还可以直接改样式文件<code>`source/css/_common/_vendor/highlight/hilight.styl</code>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$code-block</span><br><span class="line">  background: highlight-background</span><br><span class="line">  margin: 20px 0</span><br><span class="line">  padding: 15px</span><br><span class="line">  overflow: auto</span><br><span class="line">  font-size 15px //$code-font-size;    // 改这里</span><br><span class="line">  color: highlight-foreground</span><br><span class="line">  line-height:  $line-height-code-block</span><br></pre></td></tr></table></figure>
<p>参考：<a href="https://github.com/iissnan/hexo-theme-next/issues/306" target="_blank" rel="noopener">代码字体大小怎么改？ · Issue #306 · iissnan/hexo-theme-next</a></p>
<p><strong>(2) 修改代码区主题</strong> </p>
<p>新版的 Next 主题卡得很严，需要这样修改。需要动的地方有：主题的 <code>_config.yml</code> 文件，站点的 <code>_config.yml</code> 文件。</p>
<p>先在站点的配置文件中，搜索<code>hightlight</code>：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">highlight:</span><br><span class="line">  enable: true</span><br><span class="line">  line_number: true</span><br><span class="line">  auto_detect: false</span><br><span class="line">  tab_replace:</span><br></pre></td></tr></table></figure>
<p>文字自动检测默认不启动，所以改成 <code>true</code> 使其起作用。看英文应该能明白什么意思。解释下，line_number 表示是否显示代码行号，auto_detect 表示是否对未标识哪种语言的代码进行自动检测，tab_replace 表示是否替换 tab 为空格。附上一个关于 Hexo 的站点及主题配置文件常见配置项的中文解释 <a href="http://ruikye.com/2014/08/30/Hexo-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2-%C2%B7-%E8%BF%9B%E9%98%B6%E7%AF%87/" target="_blank" rel="noopener">Hexo 搭建个人博客 · 进阶篇</a>，我有摘录并放在本文附录部分。</p>
<p>注意：我有把 auto_detect 设置为了 true，但 <code>hexo s</code> 生成博客时报错：<code>TypeError: Cannot set property &#39;lastIndex&#39; of undefined</code>，后来网上找到了同样遇到该问题的人，链接：<a href="http://masikkk.com/article/hexo-12-google-code-prettify/" target="_blank" rel="noopener">Hexo博客(12)使用google-code-prettify代码高亮 | masikkk</a>，根据文章说，将站点配置文件 <code>_config.yml</code> 中的 highlight 选项的 auto_detect 设为 false，完美解决。确实如此。</p>
<p>再到主题的配置文件找到 <code>highlight_theme: normal</code>，注释显示有五种显示主题可用，分别是：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">normal</span><br><span class="line">night</span><br><span class="line">night eighties</span><br><span class="line">night blue</span><br><span class="line">night bright</span><br></pre></td></tr></table></figure>
<p>选择什么要看个人审美了。</p>
<p><strong>(3) 更改内容区域的宽度</strong> </p>
<p>NexT 对于内容的宽度的设定如下：</p>
<ul>
<li>700px，当屏幕宽度 &lt; 1600px</li>
<li>900px，当屏幕宽度 &gt;= 1600px</li>
<li>移动设备下，宽度自适应</li>
</ul>
<p>如果你需要修改内容的宽度，同样需要编辑样式文件。 编辑主题的 <code>source/css/_variables/custom.styl</code> 文件，新增变量：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 修改成你期望的宽度</span><br><span class="line">$content-desktop = 700px</span><br><span class="line"></span><br><span class="line">// 当视窗超过 1600px 后的宽度</span><br><span class="line">$content-desktop-large = 900px</span><br></pre></td></tr></table></figure>
<p>注，当你使用 Pisces 风格时可以用下面的方法，我即采用的如下设置：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">//当你使用 Pisces 风格时可以用下面的方法，在 source/css/_variables/custom.styl 中添加</span><br><span class="line">$main-desktop = 1200px</span><br><span class="line">$content-desktop = 950px</span><br></pre></td></tr></table></figure>
<p>参考官网文档：</p>
<ul>
<li><a href="https://theme-next.iissnan.com/faqs.html" target="_blank" rel="noopener">常见问题 - NexT 使用文档</a></li>
</ul>
<h3 id="6-添加自定义菜单"><a href="#6-添加自定义菜单" class="headerlink" title="(6) 添加自定义菜单"></a>(6) 添加自定义菜单</h3><p>以新建「相册」菜单为例：在博客目录下的 source 文件夹下新建名为 photo 文件夹，然后在 photo 文件夹下新建一个 index.md 文件，然后在该文件填写：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 相册</span><br><span class="line">date: 2018-04-16 22:14:07</span><br><span class="line">type: &quot;photo&quot;</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<p>然后打开主题配置文件 <code>_config.yml</code>，在 menu 中添加：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  home: / || home</span><br><span class="line">  archives: /archives || archive</span><br><span class="line">  categories: /categories || th</span><br><span class="line">  tags: /tags || tags</span><br><span class="line">  #添加了「相册」菜单</span><br><span class="line">  相册: /photo || camera</span><br></pre></td></tr></table></figure>
<blockquote>
<p><em>解释下：这里的「相册」是博客中显示的菜单名称，紧跟的 photo 要和前面 index.md 文件的 type 值一致，|| 后面的菜单的图标，图标名称来自于 <a href="http://fontawesome.io/icons/" target="_blank" rel="noopener">FontAwesome icon</a>，若没有配置图标，默认会使用问号图标。</em></p>
</blockquote>
<p>参考：<a href="https://juejin.im/post/58eb2fd2a0bb9f006928f8c7" target="_blank" rel="noopener">hexo高阶教程：next主题优化之加入网易云音乐、网易云跟帖、炫酷动态背景、自定义样式，打造属于你自己的定制化博客</a></p>
<h3 id="7-添加音乐、视频"><a href="#7-添加音乐、视频" class="headerlink" title="(7) 添加音乐、视频"></a>(7) 添加音乐、视频</h3><p><strong>1、添加单曲音乐</strong></p>
<p>进入 <a href="https://music.163.com/" target="_blank" rel="noopener">网易云音乐</a> 的官网，搜索歌曲，点开歌曲，点击「生成外链播放器」生成外链，直接拿来用就行。iframe 插件可以在代码中设置宽高等参数，auto 为设置是否自动播放，auto 设为 0 表示手动播放，为 1 表示自动播放。flash 不可以自己设置参数。</p>
<p>自动播放示例：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">frameborder</span>=<span class="string">"no"</span> <span class="attr">border</span>=<span class="string">"0"</span> <span class="attr">marginwidth</span>=<span class="string">"0"</span> <span class="attr">marginheight</span>=<span class="string">"0"</span> <span class="attr">width</span>=<span class="string">350</span> <span class="attr">height</span>=<span class="string">86</span> <span class="attr">src</span>=<span class="string">"//music.163.com/outchain/player?type=2&amp;id=185678&amp;auto=0&amp;height=66"</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure>
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="350" height="86" src="//music.163.com/outchain/player?type=2&id=185678&auto=1&height=66"></iframe>



<p><strong>2、添加歌单</strong></p>
<p>如果想要加入歌单，就需要找到歌单或者自己创建歌单，热后点击歌单，找到并点击进去「生成外链播放器」，其余操作就和上面一样了。不过，若歌单有变化的话，这个外链的歌曲同样跟着变。示例：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">frameborder</span>=<span class="string">"no"</span> <span class="attr">border</span>=<span class="string">"0"</span> <span class="attr">marginwidth</span>=<span class="string">"0"</span> <span class="attr">marginheight</span>=<span class="string">"0"</span> <span class="attr">width</span>=<span class="string">530</span> <span class="attr">height</span>=<span class="string">450</span> <span class="attr">src</span>=<span class="string">"//music.163.com/outchain/player?type=0&amp;id=2637966813&amp;auto=0&amp;height=430"</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure>
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="530" height="450" src="//music.163.com/outchain/player?type=0&id=2637966813&auto=1&height=430"></iframe>

<p><strong>3）添加视频</strong></p>
<p>打开视频网站，比如优酷、YouTube 等。以优酷为例，打开某个视频后，点击「分享」，再复制 iframe 代码粘贴到 Markdown 文章即可。示例：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">height</span>=<span class="string">498</span> <span class="attr">width</span>=<span class="string">510</span> <span class="attr">src</span>=<span class="string">'http://player.youku.com/embed/XMTU0ODEwMzM3Ng=='</span> <span class="attr">frameborder</span>=<span class="string">0</span> '<span class="attr">allowfullscreen</span>'&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="8-设置标题样式（为浅蓝色）"><a href="#8-设置标题样式（为浅蓝色）" class="headerlink" title="(8) 设置标题样式（为浅蓝色）"></a>(8) 设置标题样式（为浅蓝色）</h3><p>进入主题目录 <code>hexo\themes\next\source\css\_common\components\post\</code> 修改 <code>post.sty</code> 文件，在配置的后面添加下面的代码。该文件是博文的样式表。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">/*添加下面的CSS代码来修改博客标题样式*/</span><br><span class="line">.page-post-detail .post-title &#123;</span><br><span class="line">  font-size: 26px;</span><br><span class="line">  text-align: center;</span><br><span class="line">  word-break: break-word;</span><br><span class="line">  font-weight: $posts-expand-title-font-weight</span><br><span class="line">  background-color: #b9d3ee;</span><br><span class="line">  border-radius:.3em;</span><br><span class="line">  line-height:1em;</span><br><span class="line">  padding-bottom:.12em;</span><br><span class="line">  padding-top:.12em;</span><br><span class="line">  box-shadow:2px 2px 7px #9fb6cd;</span><br><span class="line">  +mobile() &#123;</span><br><span class="line">    font-size: 22px;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">/*添加上面的CSS代码来修改博客标题样式*/</span><br><span class="line">@import &quot;post-expand&quot;;</span><br><span class="line">@import &quot;post-collapse&quot;;</span><br><span class="line">@import &quot;post-type&quot;;</span><br><span class="line">@import &quot;post-title&quot;;</span><br></pre></td></tr></table></figure>
<p><em>注意：如果想把主页标题样式一同修改，可以用把 <code>.page-post-detail</code> 去掉。</em></p>
<p>参考：<a href="http://www.aisun.org/2017/10/hexo-next+dingzhi/" target="_blank" rel="noopener">hexo框架基于next主题定制</a>（各种优化，很全面）</p>
<h3 id="9-设置文章封面图片"><a href="#9-设置文章封面图片" class="headerlink" title="(9) 设置文章封面图片"></a>(9) 设置文章封面图片</h3><p>如果只是插入本地图片作为文章封面，即在博客首页的时候会显示文章的封面图片，进入这篇文章的详细页面后，将不显示这张图片。</p>
<p>按如下方式操作：</p>
<p>1）修改 <code>\themes\next\layout\_macro\post.swing</code> 文件。将如下代码复制：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% <span class="keyword">if</span> post.summary_img  %&#125;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"out-img-topic"</span>&gt;</span><br><span class="line">    &lt;img src=&#123;&#123; post.summary_img &#125;&#125; <span class="class"><span class="keyword">class</span></span>=<span class="string">"img-topic"</span>&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&#123;% endif %&#125;</span></span><br></pre></td></tr></table></figure>
<p>添加到下图所示的位置:</p>
<p><img src="https://neveryu.github.io/images/hexo-next-five-1.png" alt></p>
<p>2）在新建的文章添加一个字段属性：<code>summary_img</code>。<code>summary_img</code> 的值是图片的路径，如： </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: CSS 各种Hack手段</span><br><span class="line">date: 2017-06-25 03:25:24</span><br><span class="line">categories: 前端</span><br><span class="line">tags: [CSS]</span><br><span class="line">comments: false</span><br><span class="line">summary_img: /images/css-hack-1.png</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<p>当然也可以不设置<code>summary_img</code>的图片路径，即也就不会显示封面图。</p>
<p><strong>PS：这里有个注意点，亲测，图片存放的文件夹只能新建在 <code>source</code> 目录下。</strong></p>
<p>参考文章：</p>
<ul>
<li><a href="http://www.xinxiaoyang.com/programming/2016-11-25-hexo-image-bug/" target="_blank" rel="noopener">Hexo 图片插入</a></li>
<li><a href="https://neveryu.github.io/2017/07/15/hexo-next-five/" target="_blank" rel="noopener">Hexo-NexT搭建个人博客（五）——插入封面</a> </li>
</ul>
<h3 id="10-网页加载进度条"><a href="#10-网页加载进度条" class="headerlink" title="(10) 网页加载进度条"></a>(10) 网页加载进度条</h3><p>打开 <code>/themes/next/layout/_partials/head.swig</code> 文件，在文件末尾添加如下代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 网页加载条 --&gt;</span><br><span class="line">&lt;script src=&quot;https://neveryu.github.io/js/src/pace.min.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>然后，打开 <code>/themes/source/css/_custom/custom.styl</code> 文件，在文件末尾添加如下代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line">/*网页加载条*/</span><br><span class="line">/* This is a compiled file, you should be editing the file in the templates directory */</span><br><span class="line">.pace &#123;</span><br><span class="line">  -webkit-pointer-events: none;</span><br><span class="line">  pointer-events: none;</span><br><span class="line">  -webkit-user-select: none;</span><br><span class="line">  -moz-user-select: none;</span><br><span class="line">  user-select: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.pace-inactive &#123;</span><br><span class="line">  display: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.pace .pace-progress &#123;</span><br><span class="line">  background: #1e92fb;</span><br><span class="line">  position: fixed;</span><br><span class="line">  z-index: 2000;</span><br><span class="line">  top: 0;</span><br><span class="line">  right: 100%;</span><br><span class="line">  width: 100%;</span><br><span class="line">  height: 3px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.pace .pace-progress-inner &#123;</span><br><span class="line">  display: block;</span><br><span class="line">  position: absolute;</span><br><span class="line">  right: 0px;</span><br><span class="line">  width: 100px;</span><br><span class="line">  height: 100%;</span><br><span class="line">  box-shadow: 0 0 10px #e90f92, 0 0 5px #e90f92;</span><br><span class="line">  opacity: 1.0;</span><br><span class="line">  -webkit-transform: rotate(3deg) translate(0px, -4px);</span><br><span class="line">  -moz-transform: rotate(3deg) translate(0px, -4px);</span><br><span class="line">  -ms-transform: rotate(3deg) translate(0px, -4px);</span><br><span class="line">  -o-transform: rotate(3deg) translate(0px, -4px);</span><br><span class="line">  transform: rotate(3deg) translate(0px, -4px);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.pace .pace-activity &#123;</span><br><span class="line">  display: block;</span><br><span class="line">  position: fixed;</span><br><span class="line">  z-index: 2000;</span><br><span class="line">  top: 15px;</span><br><span class="line">  right: 15px;</span><br><span class="line">  width: 14px;</span><br><span class="line">  height: 14px;</span><br><span class="line">  border: solid 2px transparent;</span><br><span class="line">  border-top-color: #e90f92;</span><br><span class="line">  border-left-color: #e90f92;</span><br><span class="line">  border-radius: 10px;</span><br><span class="line">  -webkit-animation: pace-spinner 400ms linear infinite;</span><br><span class="line">  -moz-animation: pace-spinner 400ms linear infinite;</span><br><span class="line">  -ms-animation: pace-spinner 400ms linear infinite;</span><br><span class="line">  -o-animation: pace-spinner 400ms linear infinite;</span><br><span class="line">  animation: pace-spinner 400ms linear infinite;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@-webkit-keyframes pace-spinner &#123;</span><br><span class="line">  0% &#123; -webkit-transform: rotate(0deg); transform: rotate(0deg); &#125;</span><br><span class="line">  100% &#123; -webkit-transform: rotate(360deg); transform: rotate(360deg); &#125;</span><br><span class="line">&#125;</span><br><span class="line">@-moz-keyframes pace-spinner &#123;</span><br><span class="line">  0% &#123; -moz-transform: rotate(0deg); transform: rotate(0deg); &#125;</span><br><span class="line">  100% &#123; -moz-transform: rotate(360deg); transform: rotate(360deg); &#125;</span><br><span class="line">&#125;</span><br><span class="line">@-o-keyframes pace-spinner &#123;</span><br><span class="line">  0% &#123; -o-transform: rotate(0deg); transform: rotate(0deg); &#125;</span><br><span class="line">  100% &#123; -o-transform: rotate(360deg); transform: rotate(360deg); &#125;</span><br><span class="line">&#125;</span><br><span class="line">@-ms-keyframes pace-spinner &#123;</span><br><span class="line">  0% &#123; -ms-transform: rotate(0deg); transform: rotate(0deg); &#125;</span><br><span class="line">  100% &#123; -ms-transform: rotate(360deg); transform: rotate(360deg); &#125;</span><br><span class="line">&#125;</span><br><span class="line">@keyframes pace-spinner &#123;</span><br><span class="line">  0% &#123; transform: rotate(0deg); transform: rotate(0deg); &#125;</span><br><span class="line">  100% &#123; transform: rotate(360deg); transform: rotate(360deg); &#125;</span><br><span class="line">&#125;</span><br><span class="line">/*网页加载条 END*/</span><br></pre></td></tr></table></figure>
<p>参考：<a href="https://neveryu.github.io/2017/07/15/hexo-next-five/" target="_blank" rel="noopener">Hexo-NexT搭建个人博客（五） | Never_yu’s Blog</a></p>
<p>另外，还看到一个方法，参考：<a href="https://www.jianshu.com/p/9f0e90cc32c2" target="_blank" rel="noopener">Hexo-NexT配置超炫网页效果 - 简书</a></p>
<blockquote>
<p>编辑主题配置文件搜索<code>pace</code>，将其值改为<code>ture</code>就可以了，选择一款你喜欢的样式。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&gt; # Progress bar in the top during page loading.</span><br><span class="line">&gt; pace: ture</span><br><span class="line">&gt; # Themes list:</span><br><span class="line">&gt; #pace-theme-big-counter</span><br><span class="line">&gt; #pace-theme-bounce</span><br><span class="line">&gt; #pace-theme-barber-shop</span><br><span class="line">&gt; #pace-theme-center-atom</span><br><span class="line">&gt; #pace-theme-center-circle</span><br><span class="line">&gt; #pace-theme-center-radar</span><br><span class="line">&gt; #pace-theme-center-simple</span><br><span class="line">&gt; #pace-theme-corner-indicator</span><br><span class="line">&gt; #pace-theme-fill-left</span><br><span class="line">&gt; #pace-theme-flash</span><br><span class="line">&gt; #pace-theme-loading-bar</span><br><span class="line">&gt; #pace-theme-mac-osx</span><br><span class="line">&gt; #pace-theme-minimal</span><br><span class="line">&gt; # For example</span><br><span class="line">&gt; # pace_theme: pace-theme-center-simple</span><br><span class="line">&gt; pace_theme: pace-theme-minimal</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="11-底部：显示-或隐藏-底部”强力驱动”和版本"><a href="#11-底部：显示-或隐藏-底部”强力驱动”和版本" class="headerlink" title="(11) 底部：显示(或隐藏)底部”强力驱动”和版本"></a>(11) 底部：显示(或隐藏)底部”强力驱动”和版本</h3><p>打开 <code>themes/next/_config.yml</code> 文件，将 <code>powered</code> 设置为 <code>true</code>， 显示“强力驱动”；将 <code>enable</code> 设置为 <code>true</code>，显示版本信息。</p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"># 页脚</span><br><span class="line">footer:</span><br><span class="line">  # Specify the date when the site was setup.</span><br><span class="line">  # If not defined, current year will be used.</span><br><span class="line">  since: 2018</span><br><span class="line"></span><br><span class="line">  # Icon between year and copyright info.</span><br><span class="line">  # icon: user</span><br><span class="line">  icon: sun-o</span><br><span class="line"></span><br><span class="line">  # If not defined, will be used `author` from Hexo main config.</span><br><span class="line">  copyright:</span><br><span class="line">  # -------------------------------------------------------------</span><br><span class="line">  # Hexo link (Powered by Hexo).</span><br><span class="line"><span class="deletion">-  powered: true</span></span><br><span class="line"><span class="addition">+  powered: false</span></span><br><span class="line">  theme:</span><br><span class="line">    # Theme &amp; scheme info link (Theme - NexT.scheme).</span><br><span class="line"><span class="deletion">-    enable: true</span></span><br><span class="line"><span class="addition">+    enable: false</span></span><br><span class="line">    # Version info of NexT after scheme info (vX.X.X).</span><br><span class="line">    version: true</span><br></pre></td></tr></table></figure>
<p>参考：<a href="https://juejin.im/post/5bcd2d395188255c3b7dc1db#heading-52" target="_blank" rel="noopener">Hexo+NexT 打造一个炫酷博客 - 掘金</a>（各种定制优化，非常全面）</p>
<p>如果需要修改，可以参考下节 (12) 的内容。</p>
<h3 id="12-底部：设定站点建立时间和作者名称"><a href="#12-底部：设定站点建立时间和作者名称" class="headerlink" title="(12) 底部：设定站点建立时间和作者名称"></a>(12) 底部：设定站点建立时间和作者名称</h3><p>(1) 设定站点建立时间</p>
<p>这个时间将在站点的底部显示，例如 <code>© 2013 - 2015</code>。编辑主题配置文件 <code>_config.yml</code>，新增字段 <code>since</code>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">since: 2013</span><br></pre></td></tr></table></figure>
<p>其中，网站页面会在 <code>-</code> 后面的年份会自动根据当前年份显示。参考：<a href="https://github.com/iissnan/hexo-theme-next/wiki/%E8%AE%BE%E5%AE%9A%E7%AB%99%E7%82%B9%E5%BB%BA%E7%AB%8B%E6%97%B6%E9%97%B4" target="_blank" rel="noopener">设定站点建立时间 · iissnan/hexo-theme-next Wiki</a></p>
<p>(2) 修改站点时间后面的作者名称</p>
<p>找到 <code>\themes\next\layout\_partials\</code>下面的<code>footer.swig</code>文件，打开可以发现如下语句：</p>
<p><img src="https://img-1256179949.cos.ap-shanghai.myqcloud.com/20190216135929.png" alt></p>
<p>第一个框，是底部的站点时间后面的作者名称，如果想加东西，一定要在双大括号外面写。如：<code>xxx</code>，当然你要是想改彻底可以变量都删掉，看个人意愿。</p>
<p><strong><em>(3) 顺带补充其他——修改底部”强力驱动”和版本信息</em></strong></p>
<p>第二个框，是底部的 “由Hexo驱动” 的 Hexo 链接，先给删掉防止跳转，如果想跳转当然也可以自己写地址，至于中文一会处理。注意删除的时候格式不能错，只把<code>&lt;a&gt;</code>标签这部分删除即可，留着两个单引号’’，否则会出错。在我所使用的 next 版本删除 <code>&lt;a&gt;</code> 标签后结果如下：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if theme.footer.powered %&#125;</span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"powered-by"</span>&gt;</span>&#123;#</span><br><span class="line">  #&#125;&#123;&#123; __('footer.powered', '') &#125;&#125;&#123;#</span><br><span class="line">#&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure>
<p>第三个框，是更改底部的“主题-Next.XX”，这个比较爽直接将<code>-</code> 后面<code>&lt;/div&gt;</code> 之前的都删掉，，删掉之后在上一行 <code>-</code> 后面可以随意加上你想显示的东西，不要显示敏感信息哟，请自重。在我所使用的 next 版本删除 <code>-</code> 后面的对应代码的结果如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if theme.footer.theme.enable %&#125;</span><br><span class="line">  &lt;div class=&quot;theme-info&quot;&gt;&#123;#</span><br><span class="line">  #&#125;&#123;&#123; __(&apos;footer.theme&apos;) &#125;&#125; &amp;mdash; &lt;/div&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure>
<p>注意，我这里的<code>&amp;mdash;</code> 对应 <code>-</code>， 这里后面可以加上自己想要添加的内容，比如：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">herf</span>=<span class="string">"https://pages.github.com/"</span>&gt;</span>Hosted By GitHub Page<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>接下来，处理剩余的中文信息。找到这个地方<code>\themes\next\languages\</code> 下面的语言文件zh-Hans.yml（这里以中文为例，有的习惯用英文的配置文件，道理一样，找对应位置即可） 打开之后，如图：</p>
<p><img src="https://img-1256179949.cos.ap-shanghai.myqcloud.com/20190216143647.png" alt></p>
<p>看到了吧，这个就是传值传过去的，你想显示什么就在这里面大肆的去改动吧。其实在第二个框中，就可以把值都改掉，不用接受传值的方式，完全自己可以重写。不过我不建议那样做，因为传值这样只要是后续页面需要这几个值那么就都会通过取值去传过去，要是在刚才 footer 文件中直接写死，后续不一定哪个页面需要传值，但是值为空了或者还是原来的，可就尴尬了。所以还是这样改动吧。</p>
<p>参考：<a href="https://juejin.im/post/5b440ba251882519f6475079" target="_blank" rel="noopener">Hexo Next底部powered by的logo栏更改以及注意事项（附官方文档,文末有福利链） - 掘金</a></p>
<h3 id="13-底部：添加网站已运行时间"><a href="#13-底部：添加网站已运行时间" class="headerlink" title="(13) 底部：添加网站已运行时间"></a>(13) 底部：添加网站已运行时间</h3><p>在<code>themes/layout/_parrials/footer.swing</code> 中添加：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--添加网站的运行时间--&gt;</span><br><span class="line">&lt;span id=<span class="string">"sitetime"</span>&gt; <span class="xml"><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">&lt;script language=<span class="string">"javascript"</span>&gt;</span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">siteTime</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="built_in">window</span>.setTimeout(<span class="string">"siteTime()"</span>, <span class="number">1000</span>);</span><br><span class="line">		<span class="keyword">var</span> seconds = <span class="number">1000</span></span><br><span class="line">		<span class="keyword">var</span> minutes = seconds * <span class="number">60</span></span><br><span class="line">		<span class="keyword">var</span> hours = minutes * <span class="number">60</span></span><br><span class="line">		<span class="keyword">var</span> days = hours * <span class="number">24</span></span><br><span class="line">		<span class="keyword">var</span> years = days * <span class="number">365</span></span><br><span class="line"></span><br><span class="line">		<span class="keyword">var</span> today = <span class="keyword">new</span> <span class="built_in">Date</span>()</span><br><span class="line">		<span class="keyword">var</span> todayYear = today.getFullYear()</span><br><span class="line">		<span class="keyword">var</span> todayMonth = today.getMonth()</span><br><span class="line">		<span class="keyword">var</span> todayDate = today.getDate()</span><br><span class="line">		<span class="keyword">var</span> todayHour = today.getHours()</span><br><span class="line">		<span class="keyword">var</span> todayMinute = today.getMinutes()</span><br><span class="line">		<span class="keyword">var</span> todaySecond = today.getSeconds()</span><br><span class="line">		<span class="keyword">var</span> t1 = <span class="built_in">Date</span>.UTC(<span class="number">2017</span>,<span class="number">4</span>,<span class="number">18</span>,<span class="number">11</span>,<span class="number">00</span>,<span class="number">00</span>)</span><br><span class="line">		<span class="keyword">var</span> t2 = <span class="built_in">Date</span>.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond)</span><br><span class="line">		<span class="keyword">var</span> diff = t2-t1</span><br><span class="line"></span><br><span class="line">		<span class="keyword">var</span> diffYears = <span class="built_in">Math</span>.floor(diff/years)</span><br><span class="line">		<span class="keyword">var</span> diffDays = <span class="built_in">Math</span>.floor((diff/days)-diffYears*<span class="number">365</span>)</span><br><span class="line">		<span class="keyword">var</span> diffHours = <span class="built_in">Math</span>.floor((diff-(diffYears*<span class="number">365</span>+diffDays)*days)/hours)</span><br><span class="line">		<span class="keyword">var</span> diffMinutes = <span class="built_in">Math</span>.floor((diff-(diffYears*<span class="number">365</span>+diffDays)*days-diffHours*hours)/minutes)</span><br><span class="line">		<span class="keyword">var</span> diffSeconds = <span class="built_in">Math</span>.floor((diff-(diffYears*<span class="number">365</span>+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds)</span><br><span class="line">		<span class="built_in">document</span>.getElementById(<span class="string">"sitetime"</span>).innerHTML=<span class="string">" 本站已运行"</span>+diffYears+<span class="string">" 年 "</span>+diffDays+<span class="string">" 天 "</span>+diffHours+<span class="string">" 小时 "</span>+diffMinutes+<span class="string">" 分钟 "</span>+diffSeconds+<span class="string">" 秒&lt;br&gt;"</span></span><br><span class="line">	&#125;</span><br><span class="line">	siteTime()</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p>参考：<a href="https://www.jianshu.com/p/3a01cc514ce7" target="_blank" rel="noopener">Hexo和Next主题的相关设置（持续更新） - 简书</a></p>
<h3 id="14-底部：添加访问人数和访问量-使用的不蒜字统计-、全站总字数"><a href="#14-底部：添加访问人数和访问量-使用的不蒜字统计-、全站总字数" class="headerlink" title="(14) 底部：添加访问人数和访问量(使用的不蒜字统计)、全站总字数"></a>(14) 底部：添加访问人数和访问量(使用的不蒜字统计)、全站总字数</h3><p><strong>(1) 添加人数和访问量</strong></p>
<p>不蒜子是号称极简网页计数器，事实上也是如此，仅仅需要两步即可完成统计，分别为引入不蒜子 JS 和显示统计数，为访问量统计与访问人数统计。</p>
<p>①引入不蒜子 JS</p>
<p>打开 <code>\themes\next\layout_partials\footer.swig</code> 文件，在顶部添加如下代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script <span class="keyword">async</span> src=<span class="string">"https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>②显示统计数</p>
<p><em>访问量统计：</em></p>
<p>算法a：pv 的方式，单个用户连续点击 n 篇文章，记录 n 次访问量。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_container_site_pv"</span>&gt;</span></span><br><span class="line">    本站总访问量<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_value_site_pv"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>次</span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><em>访问人数统计：</em></p>
<p>算法b：uv的方式，单个用户连续点击 n 篇文章，只记录 1 次访客数。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_container_site_uv"</span>&gt;</span></span><br><span class="line">  本站访客数<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_value_site_uv"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>人次</span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>接着在合适的地方添加需要显示的统计数字代码（同上文件），我是在如下位置添加的：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 不蒜字统计 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-user-md"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_container_site_uv"</span>&gt;</span></span><br><span class="line">	  访问人数：<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_value_site_uv"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">span</span>&gt;</span>&amp;nbsp;|&amp;nbsp;</span><br><span class="line">	</span><br><span class="line">	<span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-eye"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_container_site_pv"</span>&gt;</span></span><br><span class="line">	  总访问量：<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_value_site_pv"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">span</span>&gt;</span>&amp;nbsp;|&amp;nbsp;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">&lt;!-- 添加博客全站总字数统计--&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-pencil"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-count"</span>&gt;</span>博客全站共 &#123;&#123; totalcount(site) &#125;&#125; 字<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	</span><br><span class="line">&#123;% if theme.footer.custom_text %&#125;</span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"footer-custom"</span>&gt;</span>&#123;#</span><br><span class="line">  #&#125;&#123;&#123; theme.footer.custom_text &#125;&#125;&#123;#</span><br><span class="line">#&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure>
<p><em>注：之前就是使用的该方式添加的访问人数、访问量，但后来发现博客并不显示了，猜测可能是服务商关闭或是别的什么问题。</em> </p>
<p>参考：</p>
<ul>
<li><a href="https://blog.csdn.net/FanLinXi_WuXi/article/details/81988904" target="_blank" rel="noopener">Hexo+Github博客小功能之添加不蒜子访问统计</a></li>
<li><a href="https://www.zxpblog.cn/2018/08/11/Hexo%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/" target="_blank" rel="noopener">Hexo搭建属于自己的博客</a> </li>
</ul>
<p><strong>(2) 添加博客全站字数统计</strong></p>
<p>添加单篇文章的字数统计，参考「(3) 添加文章字数统计、阅读时长（next主题已经集成）」小节内容。</p>
<p>底部添加全站总字数，方法类似。先安装：<code>npm install hexo-wordcount --save</code>，打开 <code>/themes/next/layout/_partials/footer.swig</code> 在合适位置添加相应代码，我的和不蒜字统计在一起。</p>
<p>添加在别的地方，参考：<a href="https://www.jianshu.com/p/9f0e90cc32c2" target="_blank" rel="noopener">Hexo-NexT配置超炫网页效果 - 简书</a></p>
<p><strong>!!!最后，根据 (11)、(12)、(13) 、(14) 节的的修改后的结果：</strong></p>
<p><img src="https://img-1256179949.cos.ap-shanghai.myqcloud.com/20190216134149.png" alt></p>
<h3 id="15-设置文章加密访问"><a href="#15-设置文章加密访问" class="headerlink" title="(15) 设置文章加密访问"></a>(15) 设置文章加密访问</h3><p>打开 <code>themes/next/layout/_partials/head.swig</code>文件，在 ``之前插入代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="string">'&#123;&#123; page.password &#125;&#125;'</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span> (prompt(<span class="string">'请输入密码'</span>) !== <span class="string">'&#123;&#123; page.password &#125;&#125;'</span>)&#123;</span><br><span class="line">                alert(<span class="string">'密码错误'</span>);</span><br><span class="line">                history.back();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)();</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p>然后写文章时加上<code>password: xxx</code>，如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 2018</span><br><span class="line">date: 2018-10-25 16:10:03</span><br><span class="line">password: 123456</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<p>参考：<a href="https://www.simon96.online/2018/10/12/hexo-tutorial/" target="_blank" rel="noopener">最全Hexo博客搭建+主题优化+插件配置+常用操作+错误分析 | 遇见西门</a>（非常全面~）</p>
<h3 id="16-文章末尾添加”本文结束”标记-文章末尾追加版权信息"><a href="#16-文章末尾添加”本文结束”标记-文章末尾追加版权信息" class="headerlink" title="(16) 文章末尾添加”本文结束”标记/文章末尾追加版权信息"></a>(16) 文章末尾添加”本文结束”标记/文章末尾追加版权信息</h3><p>参考：<a href="https://juejin.im/post/5bcd2d395188255c3b7dc1db#heading-52" target="_blank" rel="noopener">Hexo+NexT 打造一个炫酷博客 - 掘金</a></p>
<h3 id="17-取消文章目录对标题的自动编号和取消目录"><a href="#17-取消文章目录对标题的自动编号和取消目录" class="headerlink" title="(17) 取消文章目录对标题的自动编号和取消目录"></a>(17) 取消文章目录对标题的自动编号和取消目录</h3><p>(1) 取消文章目录对标题的自动编号</p>
<p>修改 NexT 主题配置文件 <code>_config.yml</code>，搜索  <code>number</code> ，值改为 <code>false</code>。</p>
<p>(2) 取消目录</p>
<p>如果想干脆取消目录，修改 NexT 主题配置文件 <code>_config.yml</code>，搜索  <code>toc:</code> ，修改 toc 下的 enable 值改为 <code>false</code>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">toc:</span><br><span class="line">  enable: false</span><br><span class="line"></span><br><span class="line">  number: false</span><br></pre></td></tr></table></figure>
<p>参考：<a href="https://segmentfault.com/q/1010000008494901" target="_blank" rel="noopener">hexo的NexT主题，怎么取消“文章目录”对标题的自动编号？</a></p>
<h3 id="18-在右上角或者左上角实现fork-me-on-github"><a href="#18-在右上角或者左上角实现fork-me-on-github" class="headerlink" title="(18) 在右上角或者左上角实现fork me on github"></a>(18) 在右上角或者左上角实现fork me on github</h3><p>点击 <a href="https://github.com/blog/273-github-ribbons" target="_blank" rel="noopener">这里</a> 或者 <a href="http://tholman.com/github-corners/" target="_blank" rel="noopener">这里</a> 挑选自己喜欢的样式，并复制代码。 例如，我是使用的一款右上角的，复制如下代码：</p>
<p><img src="https://img-1256179949.cos.ap-shanghai.myqcloud.com/20190216021508.png" alt></p>
<p>然后粘贴刚才复制的代码到 <code>themes/next/layout/_layout.swig</code> 文件中（放在 <code>&lt;div class=&quot;headband&quot;&gt;&lt;/div&gt;</code> 的下面），并把 <code>href</code> 改为你的 GitHub 地址。</p>
<p>参考：<a href="https://segmentfault.com/a/1190000009544924" target="_blank" rel="noopener">hexo的next主题个性化配置教程 - SegmentFault 思否</a></p>
<h3 id="19-底部大改版：添加自定义版权等信息、访问人数-次、网站运行时间、修改底部的桃心"><a href="#19-底部大改版：添加自定义版权等信息、访问人数-次、网站运行时间、修改底部的桃心" class="headerlink" title="(19) 底部大改版：添加自定义版权等信息、访问人数/次、网站运行时间、修改底部的桃心"></a>(19) 底部大改版：添加自定义版权等信息、访问人数/次、网站运行时间、修改底部的桃心</h3><p>注：已对「(12) 设定站点建立时间」、「(13) 添加网站已运行时间」做的修改做了更换；以及隐藏了底部”强力驱动”和版本内容（如何隐藏见该文 (11) 节操作）。</p>
<p><strong>(1) 底部添加自定义版权信息</strong> </p>
<p><img src="https://img-1256179949.cos.ap-shanghai.myqcloud.com/20190216155259.png" alt></p>
<blockquote>
<p><em>注：如上，左侧是之前的，右侧是修改后的。</em> </p>
</blockquote>
<p>打开 <code>\themes\next\layout\_partials\</code> 文件夹下的 <code>footer.swig</code> 文件。现把修改后的代码摘入如下，方便复制：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"copyright"</span>&gt;</span>&#123;#</span><br><span class="line">#&#125;&#123;% set current = date(Date.now(), "YYYY") %&#125;&#123;#</span><br><span class="line">#&#125;<span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">black</span> <span class="attr">face</span>=<span class="string">STLiti</span>&gt;</span>Copyright &amp;nbsp;<span class="tag">&lt;/<span class="name">font</span>&gt;</span><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">black</span>&gt;</span>&amp;copy;<span class="tag">&lt;/<span class="name">font</span>&gt;</span> &#123;% if theme.footer.since and theme.footer.since != current %&#125;<span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">black</span> <span class="attr">face</span>=<span class="string">STLiti</span>&gt;</span>&#123;&#123; theme.footer.since &#125;&#125; - <span class="tag">&lt;/<span class="name">font</span>&gt;</span>&#123;% endif %&#125;&#123;#</span><br><span class="line">#&#125;<span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">black</span> <span class="attr">face</span>=<span class="string">STLiti</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">itemprop</span>=<span class="string">"copyrightYear"</span>&gt;</span>&#123;&#123; current &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"with-love"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-&#123;&#123; theme.footer.icon &#125;&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"author"</span> <span class="attr">itemprop</span>=<span class="string">"copyrightHolder"</span> <span class="attr">style</span>=<span class="string">"font-family:STLiti;color:black;"</span>&gt;</span>&#123;&#123; theme.footer.copyright || config.author &#125;&#125; . All Rights Reserved.<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  &#123;% if theme.post_wordcount.totalcount %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-divider"</span>&gt;</span>|<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-item-icon"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-area-chart"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    &#123;% if theme.post_wordcount.item_text %&#125;</span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-item-text"</span>&gt;</span>&#123;&#123; __('post.totalcount') &#125;&#125;&amp;#58;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">title</span>=<span class="string">"&#123;&#123; __('post.totalcount') &#125;&#125;"</span>&gt;</span>&#123;#</span><br><span class="line">    #&#125;&#123;&#123; totalcount(site, '0,0.0a') &#125;&#125;&#123;#</span><br><span class="line">  #&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>这是效果：<img src="https://img-1256179949.cos.ap-shanghai.myqcloud.com/20190216155600.png" alt></p>
<p>这里使用的是「华文隶书」字体，你也可以通过修改<code>face=STLiti</code> 换为别的字体。要注意的是，当你这里使用了「华文隶书」字体，别人访问该网页的电脑或手机若没有安装该字体，则不会显示此字体样式。我自己在手机端访问，就发现不会显示此字体样式。</p>
<p><strong>但倘若是想要别人在没有安装「华文隶书」字体的电脑或手机上显示该字体样式，有办法吗？</strong>答案是有的。只需要把该字体 ttf 文件放在 NexT 主题源码中，比如 <code>\themes\next\source\images\</code> 文件夹下，然后打开 <code>\themes\next\source\css\_custom\custom.styl</code> 文件，添加：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//压缩的字体</span><br><span class="line">@font-face &#123;</span><br><span class="line">	font-family: STLiti;</span><br><span class="line">	src: url("/images/STLITI.TTF");</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>即可。</p>
<blockquote>
<p>这里提下，电脑安装了 Office， 会自动安装一些字体，包括「华文隶书」。如何安装字体：<a href="https://support.office.com/zh-cn/article/%E4%B8%8B%E8%BD%BD%E5%92%8C%E5%AE%89%E8%A3%85%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AD%97%E4%BD%93%E4%BB%A5%E4%BE%BF%E5%9C%A8-office-%E4%B8%AD%E4%BD%BF%E7%94%A8-0ee09e74-edc1-480c-81c2-5cf9537c70ce" target="_blank" rel="noopener">下载和安装自定义字体以便在 Office 中使用 - Office 支持</a></p>
<ul>
<li>方法1：双击下载好的 ttf 文件，点击「安装」即可。</li>
<li>方法2：复制下载好的 ttf 文件，粘贴到 <code>C:\Windows\Fonts</code> 会自动安装字体。</li>
</ul>
<p>卸载字体：进入 <code>C:\Windows\Fonts</code> 选择需要卸载的字体删除即可。</p>
</blockquote>
<p><strong>(2) 底部添加访问人数、人次，全站总字数，以及网站运行时间</strong></p>
<p>打开 <code>\themes\next\layout\_partials\</code> 文件夹下的 <code>footer.swig</code> 文件，添加如下内容：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--此处为建站时间 --&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">    <span class="keyword">var</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>(); </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createtime</span>(<span class="params"></span>) </span>&#123; </span><br><span class="line">    <span class="keyword">var</span> grt= <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">"04/17/2017 20:01:01"</span>);</span><br><span class="line">    now.setTime(now.getTime()+<span class="number">250</span>); </span><br><span class="line">    days = (now - grt ) / <span class="number">1000</span> / <span class="number">60</span> / <span class="number">60</span> / <span class="number">24</span>; dnum = <span class="built_in">Math</span>.floor(days); </span><br><span class="line">    hours = (now - grt ) / <span class="number">1000</span> / <span class="number">60</span> / <span class="number">60</span> - (<span class="number">24</span> * dnum); hnum = <span class="built_in">Math</span>.floor(hours); </span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">String</span>(hnum).length ==<span class="number">1</span> )&#123;hnum = <span class="string">"0"</span> + hnum;&#125; minutes = (now - grt ) / <span class="number">1000</span> /<span class="number">60</span> - (<span class="number">24</span> * <span class="number">60</span> * dnum) - (<span class="number">60</span> * hnum); </span><br><span class="line">    mnum = <span class="built_in">Math</span>.floor(minutes); <span class="keyword">if</span>(<span class="built_in">String</span>(mnum).length ==<span class="number">1</span> )&#123;mnum = <span class="string">"0"</span> + mnum;&#125; </span><br><span class="line">    seconds = (now - grt ) / <span class="number">1000</span> - (<span class="number">24</span> * <span class="number">60</span> * <span class="number">60</span> * dnum) - (<span class="number">60</span> * <span class="number">60</span> * hnum) - (<span class="number">60</span> * mnum); </span><br><span class="line">    snum = <span class="built_in">Math</span>.round(seconds); <span class="keyword">if</span>(<span class="built_in">String</span>(snum).length ==<span class="number">1</span> )&#123;snum = <span class="string">"0"</span> + snum;&#125; </span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">"timeDate"</span>).innerHTML =dnum+<span class="string">"&amp;thinsp;天"</span>; </span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">"times"</span>).innerHTML = hnum + <span class="string">"&amp;thinsp;时"</span> + mnum + <span class="string">"&amp;thinsp;分"</span> + snum + <span class="string">"&amp;thinsp;秒"</span>; </span><br><span class="line">&#125; </span><br><span class="line">setInterval(<span class="string">"createtime()"</span>,<span class="number">250</span>);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p>再打开 <code>\themes\next\layout\_third-party\analytics\</code> 文件夹下的 <code>busuanzi-counter.swig</code> 文件，删除全部内容，粘贴如下代码：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if theme.busuanzi_count.enable %&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"busuanzi-count"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  &#123;% if theme.busuanzi_count.total_visitors %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">DarkSlateGray</span> <span class="attr">face</span>=<span class="string">STLiti</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"site-uv"</span> <span class="attr">title</span>=<span class="string">"访问人数"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-&#123;&#123; theme.busuanzi_count.total_visitors_icon &#125;&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"busuanzi-value"</span> <span class="attr">id</span>=<span class="string">"busuanzi_value_site_uv"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>人次</span><br><span class="line">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-divider"</span>&gt;</span>|<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">DarkSlateGray</span> <span class="attr">face</span>=<span class="string">STLiti</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">title</span>=<span class="string">"总字数"</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-edit"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span>&amp;ensp;<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-count"</span>&gt;</span>&#123;&#123; totalcount(site) &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span>字,<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"timeDate"</span> <span class="attr">title</span>=<span class="string">"网站运行时间"</span>&gt;</span>载入天数...<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"times"</span> <span class="attr">title</span>=<span class="string">"网站运行时间"</span>&gt;</span>载入时分秒...<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-divider"</span>&gt;</span>|<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">font</span>&gt;</span></span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line"></span><br><span class="line">  &#123;% if theme.busuanzi_count.total_views %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">DarkSlateGray</span> <span class="attr">face</span>=<span class="string">STLiti</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"site-pv"</span> <span class="attr">title</span>=<span class="string">"总访问量"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-&#123;&#123; theme.busuanzi_count.total_views_icon &#125;&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"busuanzi-value"</span> <span class="attr">id</span>=<span class="string">"busuanzi_value_site_pv"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>次</span><br><span class="line">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><em>注：这里同上一样，使用了「华文隶书」字体。</em>   </p>
</blockquote>
<p>最后在打开 next 主题配置文件 <code>_config.yml</code> 找到 busuanzi_count，修改为如下：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">busuanzi_count:</span><br><span class="line">  enable: true</span><br><span class="line">  total_visitors: true</span><br><span class="line">  total_visitors_icon: user #图标</span><br><span class="line">  total_views: true</span><br><span class="line">  total_views_icon: eye</span><br><span class="line">  post_views: false</span><br><span class="line">  post_views_icon: eye</span><br></pre></td></tr></table></figure>
<p>记得 enable 设置为 true。</p>
<p><strong>(3) 备案信息</strong></p>
<p>打开 <code>/themes/next/layout/_layout.swig</code> 文件，添加如下代码：</p>
<p><img src="https://img-1256179949.cos.ap-shanghai.myqcloud.com/20190216161815.png" alt></p>
<blockquote>
<p><em>注：如上，左侧是之前的，右侧是添加的代码。</em> </p>
</blockquote>
<p>现把添加后的代码摘入如下，方面复制：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"footer-inner"</span>&gt;</span></span><br><span class="line">    &#123;% include '_partials/footer.swig' %&#125;</span><br><span class="line">    &#123;% include '_third-party/analytics/analytics-with-widget.swig' %&#125;</span><br><span class="line">    <span class="comment">&lt;!--备案等自定义↓--&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"font-family:STLiti;display:inline-block;height:20px;line-height:20px;"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">href</span>=<span class="string">""</span> &gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"/images/gov.png"</span> <span class="attr">style</span>=<span class="string">"float:left;"</span>/&gt;</span>赣公网安备 xxxxxxxxxxxx号<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-divider"</span> <span class="attr">style</span>=<span class="string">"color: #555;"</span>&gt;</span>|<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://www.miitbeian.gov.cn"</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span>赣ICP备xxxxx号<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">sapn</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span><br><span class="line"></span><br><span class="line">    &#123;% block footer %&#125;&#123;% endblock %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><em>其中，备案信息开头的图片存放在 <code>\themes\next\source\images\</code> 文件夹下。</em></p>
<p>效果：<img src="https://img-1256179949.cos.ap-shanghai.myqcloud.com/20190216162228.png" alt></p>
<p>!!!最后的博客底部效果，如下图： </p>
<p><img src="https://img-1256179949.cos.ap-shanghai.myqcloud.com/20190216174015.png" alt></p>
<p>如果没有备案，不想底部显示备案信息，可以考虑显示其他，比如相同位置添加如下代码：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--版权等自定义↓--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"font-family:Courier New;display:inline-block;height:20px;line-height:20px;"</span>&gt;</span></span><br><span class="line">    Powered by <span class="tag">&lt;<span class="name">a</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">href</span>=<span class="string">"https://hexo.io/zh-cn/index.html"</span>&gt;</span>Hexo<span class="tag">&lt;/<span class="name">a</span>&gt;</span>,Theme by </span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">href</span>=<span class="string">"https://theme-next.iissnan.com/"</span>&gt;</span>NexT<span class="tag">&lt;/<span class="name">a</span>&gt;</span>. </span><br><span class="line">    Hosted by <span class="tag">&lt;<span class="name">a</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">href</span>=<span class="string">"https://pages.github.com/"</span>&gt;</span>GitHub Page<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>!!!最后博客底部效果，如图：</strong></p>
<p><img src="https://img-1256179949.cos.ap-shanghai.myqcloud.com/20190216185828.png" alt></p>
<p><strong>(4) 修改底部的桃心</strong></p>
<p>打开 <code>\themes\next\layout\_partials\footer.swig</code> 文件，修改：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"with-love"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-&#123;&#123; theme.footer.icon &#125;&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>修改为：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"with-love"</span> <span class="attr">id</span>=<span class="string">"animate"</span> <span class="attr">style</span>=<span class="string">"font-size: 13px"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-heart"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>然后再打开 <code>\themes\next\source\css\_common\components\footer\footer.styl</code> 文件，在相应处添加或修改为如下：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">if hexo-config('footer.icon.animated') &#123;</span><br><span class="line">	<span class="selector-id">#animate</span> &#123;</span><br><span class="line">    <span class="attribute">animation</span>: iconAnimate <span class="number">1.88s</span> ease-in-out infinite;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.with-love</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#9a6eac</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="20-左侧添加社交链接和协议"><a href="#20-左侧添加社交链接和协议" class="headerlink" title="(20) 左侧添加社交链接和协议"></a>(20) 左侧添加社交链接和协议</h3><p>打开 next 主题配置文件<code>_config.yml</code> ，找到 social_icons，设置 icons_only 和 transition 为 true：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">social_icons:</span><br><span class="line">  enable: true</span><br><span class="line">  icons_only: true # false</span><br><span class="line">  transition: true  # false</span><br></pre></td></tr></table></figure>
<p>然后 <code>hexo s</code> 预览可以看到：</p>
<p><img src="https://img-1256179949.cos.ap-shanghai.myqcloud.com/20190216165239.png" alt></p>
<p>再打开 <code>\themes\next\layout\_macro\</code> 文件夹下的 <code>sidebar.swig</code> 文件，在如下两处添加代码：</p>
<p><img src="https://img-1256179949.cos.ap-shanghai.myqcloud.com/20190216165438.png" alt></p>
<p><img src="https://img-1256179949.cos.ap-shanghai.myqcloud.com/20190216165514.png" alt></p>
<blockquote>
<p><em>注：如上，左侧是之前的，右侧是修改后的。</em> </p>
</blockquote>
<p>先把两处改动摘入如下：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"links-of-author-item"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">!</span> <span class="attr">--</span>增加的下面这行 悬浮显示文字<span class="attr">--</span>&gt;</span></span><br><span class="line">    &#123;% set sidebarURL = link.split('||')[0] | trim %&#125; </span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;&#123; link.split('||')[0] | trim &#125;&#125;"</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">title</span>=<span class="string">"&#123;&#123; name + ' &amp;rarr; ' + sidebarURL &#125;&#125;"</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;% endif %&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">!</span> <span class="attr">--</span>增加的下面这部分，知识共享协议 <span class="attr">--</span>&gt;</span></span><br><span class="line">&#123;% if theme.sidebar.copyright %&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cc-license motion-element"</span> <span class="attr">itemprop</span>=<span class="string">"license"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://creativecommons.org/licenses/by-nc-sa/4.0/"</span> <span class="attr">class</span>=<span class="string">"cc-opacity"</span> <span class="attr">rel</span>=<span class="string">"external nofollow noopener noreferrer"</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"/images/cc-by-nc-sa.svg"</span> <span class="attr">alt</span>=<span class="string">"Creative Commons"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br><span class="line"></span><br><span class="line">&#123;# Blogroll #&#125;</span><br></pre></td></tr></table></figure>
<p>其中，svg 文件存放在 <code>\themes\next\source\images\</code> 文件夹下。</p>
<p>效果：<img src="https://img-1256179949.cos.ap-shanghai.myqcloud.com/20190216171849.png" alt></p>
<h3 id="21-关于页面样式的修改，如链接的颜色、回顶部按钮样式、底部页码等等"><a href="#21-关于页面样式的修改，如链接的颜色、回顶部按钮样式、底部页码等等" class="headerlink" title="(21) 关于页面样式的修改，如链接的颜色、回顶部按钮样式、底部页码等等"></a>(21) 关于页面样式的修改，如链接的颜色、回顶部按钮样式、底部页码等等</h3><p>打开 <code>\themes\next\source\css\_custom\</code> 文件夹下的 <code>custom.styl</code> 文件，添加如下内容，修改内容已有注释写明：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">// 更改文中链接的颜色</span><br><span class="line">.post-body a &#123;</span><br><span class="line">  color: $orange;</span><br><span class="line">  text-decoration: none;</span><br><span class="line">  border-bottom: 1;</span><br><span class="line">  &amp;:hover &#123;</span><br><span class="line">    color: $blue;</span><br><span class="line">    //text-decoration: underline;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 右下角返回顶部按钮样式</span><br><span class="line">.back-to-top:hover &#123;</span><br><span class="line">    color: rgb(136, 255, 13);</span><br><span class="line">	background-color: rgba(0, 0, 0, 0.75); //black</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 文章```代码块顶部样式</span><br><span class="line">.highlight figcaption &#123;</span><br><span class="line">    margin: 0em;</span><br><span class="line">    padding: 0.5em;</span><br><span class="line">    background: #eee;</span><br><span class="line">    border-bottom: 1px solid #e9e9e9;</span><br><span class="line">&#125;</span><br><span class="line">.highlight figcaption a &#123;</span><br><span class="line">    color: rgb(80, 115, 184);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//修改文章内code样式</span><br><span class="line">code &#123;color:#c7254e;background:#f9f2f4;border:1px solid #d6d6d6;&#125;</span><br><span class="line"></span><br><span class="line">// [Read More]按钮样式: 黑底绿字</span><br><span class="line">.post-button .btn:hover &#123;</span><br><span class="line">	</span><br><span class="line">    color: rgb(136, 255, 13) !important;</span><br><span class="line">	background-color: rgba(0, 0, 0, 0.75); //black</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 页面底部页码</span><br><span class="line">.pagination .page-number.current &#123;</span><br><span class="line">	</span><br><span class="line">    border-radius: 100%;</span><br><span class="line">    background-color: rgba(100, 100, 100, 0.75);</span><br><span class="line">&#125;</span><br><span class="line">// 页面底部页码, 去除鼠标置于上方时，数字上方的线</span><br><span class="line">.pagination .prev, .pagination .next, .pagination .page-number &#123;</span><br><span class="line">    margin-bottom: 10px;</span><br><span class="line">    border: none;</span><br><span class="line">	color: rgb(1, 1, 1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 页面底部页码，鼠标置于上方，黑底绿字</span><br><span class="line">.page-number:hover,.page-number:active&#123;</span><br><span class="line">	color: rgb(136, 255, 13);</span><br><span class="line">	border-radius: 100%;</span><br><span class="line">    //background-color: rgba(255, 0, 100, 0.75); //品红</span><br><span class="line">	background-color: rgba(0, 0, 0, 0.75); //black</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>关于页面的很多设置都可以在此设置。</p>
<p>除了上面这些，我还设置了其他很多，比如页面底部页码、网页加载条、返回顶部按钮、左侧信息栏等样式。可参考：<a href="https://github.com/Vincentqyw/blog-code/blob/master/themes/next/source/css/_custom/custom.styl" target="_blank" rel="noopener">Vincentqyw的custom.styl</a>、<a href="https://github.com/Lruihao/lruihao.github.io/blob/hexo/themes/next/source/css/_custom/custom.styl" target="_blank" rel="noopener">Lruihao的custom.styl</a>。</p>
<p>另外在网上有看到别人的博客有个页面效果——文章之间、以及文章与下面分页之间有隔横，这个效果样式一直想拿到，觉得那样的更好看。后面联系到了博客作者，问了这事，他说是用的最新版的 NexT 主题，默认就是这样。再然后我找到了 NexT 版本更新说明的博客网站 <a href="https://theme-next.org/" target="_blank" rel="noopener">NexT – Theme for Hexo</a> 发现它也是那样的效果（最新源码：<a href="https://github.com/theme-next/hexo-theme-next/tree/v6.0.6" target="_blank" rel="noopener">hexo-theme-next</a>），看来真是新版 NexT 默认样式。前端我只会一点，不会改啊，只能这样了，日后有时间在探究吧~</p>
<blockquote>
<p>2019-06-16 更新：现在知道了，只需要在主题配置文件设置 scheme 为 Gemini 即可。</p>
</blockquote>
<h3 id="22-更换博客背景图"><a href="#22-更换博客背景图" class="headerlink" title="(22) 更换博客背景图"></a>(22) 更换博客背景图</h3><p>打开 <code>\themes\next\source\css\_custom\</code> 文件夹下的 <code>custom.styl</code> 文件，添加如下代码：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">//背景图</span><br><span class="line"><span class="selector-tag">body</span> &#123; </span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(/images/background.jpg);</span><br><span class="line">    background-attachment: fixed; // 不随屏幕滚动而滚动fixed,scroll,inherit</span><br><span class="line">    background-repeat: no-repeat; // 如果背景图不够屏幕大小则重复铺，改为no-repeat则表示不重复铺</span><br><span class="line">    background-size: cover; // contain等比例铺满屏幕 //cover拉伸铺满</span><br><span class="line">    background-position: bottom;//x,y轴调整</span><br><span class="line">    +<span class="selector-tag">mobile</span>()&#123;</span><br><span class="line">      //background-position: 0% -20%;https://i.loli.net/2018/12/29/5c270a0523154.jpg</span><br><span class="line">      //https://i.loli.net/2018/12/29/5c270fc2bfcad.png</span><br><span class="line">      background-image: url(https://ziyuan.lruihao.cn/images/bg_cell.png);</span><br><span class="line">      <span class="selector-tag">background-size</span>: <span class="selector-tag">cover</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>其中，背景图片为 background-image 后面的 url 地址，即存放在 <code>\themes\next\source\images\</code> 文件夹下。</p>
<h3 id="23-设置博客的图标favicon"><a href="#23-设置博客的图标favicon" class="headerlink" title="(23) 设置博客的图标favicon"></a>(23) 设置博客的图标favicon</h3><p>第一步：首先要有一个常见格式名（如<code>.jpg</code>, <code>.png</code>等）的图片作为备选 favicon，选择一个 favicon 制作网站完成制作，例如 <a href="http://favicon.htmlkit.com/favicon/" target="_blank" rel="noopener">FavIcon from Pics</a>、<a href="http://www.bitbug.net/" target="_blank" rel="noopener">比特虫</a>、<a href="https://tool.lu/favicon/" target="_blank" rel="noopener">favicon制作 - 在线工具</a>，最好设置为 32x32，除了自己制作，当然也可以去一些网站上找，如：<a href="http://www.easyicon.net/" target="_blank" rel="noopener">EasyIcon</a>。</p>
<p>第二步：将<code>favicon.ico</code>文件放在网站根目录下的 source 文件夹，如 <code>/themes/next/source/images</code> 文件夹下，并且修改配置文件：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">favicon:</span><br><span class="line">  small: /images/favicon-16x16-next.png #小图标 默认的NexT</span><br><span class="line">  medium: /images/favicon.ico	#中图标 默认NexT</span><br><span class="line">  apple_touch_icon: /images/apple-touch-icon-next.png #苹果触摸图标</span><br><span class="line">  safari_pinned_tab: /images/logo.svg #safari固定标签</span><br></pre></td></tr></table></figure>
<p>可以看到有四种效果，一般我们只需将 medium 换成我们自己图标路径就行了。然后刷新网站，就可以看到效果了。效果：<img src="https://img-1256179949.cos.ap-shanghai.myqcloud.com/20190218151352.png"></p>
<p>参考：<a href="https://segmentfault.com/a/1190000014676320" target="_blank" rel="noopener">关于Hexo6.0搭建个人博客(进阶篇)</a></p>
<h3 id="24-文章标题下显示评论或Comments字样"><a href="#24-文章标题下显示评论或Comments字样" class="headerlink" title="(24) 文章标题下显示评论或Comments字样"></a>(24) 文章标题下显示评论或Comments字样</h3><p>打开：<code>\themes\next\layout\_macro\post.swig</code> 文件，搜索 <code>&lt;span class=&quot;post-meta-item-icon&quot;&gt;</code>，在所有搜索到的该 span 标签下添加：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-item-text"</span>&gt;</span>评论：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>或者：（看自个想要中文还是英文字眼显示）</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-item-text"</span>&gt;</span>Comments：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>因为我用的是 valine 评论，所以我也可以只在 valine 下添加如上代码。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;% elseif theme.valine.enable and theme.valine.appid and theme.valine.appkey %&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-comments-count"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-divider"</span>&gt;</span>|<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-item-icon"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-comment-o"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-item-text"</span>&gt;</span>Comments：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;&#123; url_for(post.path) &#125;&#125;#comments"</span> <span class="attr">itemprop</span>=<span class="string">"discussionUrl"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-comments-count valine-comment-count"</span> <span class="attr">data-xid</span>=<span class="string">"&#123;&#123; url_for(post.path) &#125;&#125;"</span> <span class="attr">itemprop</span>=<span class="string">"commentCount"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure>
<p>不过还是建议在搜索到的该标签下都添加，以防今后换别的评论系统不显示。</p>
<h3 id="25-设置文章标题下的发表、分类、访问次数、文章字数、阅读时间等为英文"><a href="#25-设置文章标题下的发表、分类、访问次数、文章字数、阅读时间等为英文" class="headerlink" title="(25) 设置文章标题下的发表、分类、访问次数、文章字数、阅读时间等为英文"></a>(25) 设置文章标题下的发表、分类、访问次数、文章字数、阅读时间等为英文</h3><p>打开 <code>\themes\next\languages\zh-Hans.yml</code>，在 post 下相应处修改为如下：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">post:</span><br><span class="line">  created: Post created #创建于</span><br><span class="line">  modified: Post modified #更新于</span><br><span class="line">  sticky: 置顶</span><br><span class="line">  posted: Posted on #发表于</span><br><span class="line">  visitors: Visitors #阅读次数 </span><br><span class="line">  in: In #分类于</span><br><span class="line">  read_more: 阅读全文</span><br><span class="line">  untitled: 未命名</span><br><span class="line">  toc_empty: 此文章未包含目录</span><br><span class="line">  wordcount: Words #字数统计</span><br><span class="line">  min2read: Reading time #阅读时长</span><br><span class="line">  totalcount: Site words total count</span><br></pre></td></tr></table></figure>
<p>注：<code>#</code> 为注释。</p>
<h3 id="26-设置文章加密"><a href="#26-设置文章加密" class="headerlink" title="(26) 设置文章加密"></a>(26) 设置文章加密</h3><p>参考：<a href="https://www.zhyong.cn/posts/68c4/" target="_blank" rel="noopener">next 主题添加密码访问 | YouForever</a>，使用的插件 hexo-blog-encrypt  地址：<a href="https://github.com/MikeCoder/hexo-blog-encrypt" target="_blank" rel="noopener">https://github.com/MikeCoder/hexo-blog-encrypt</a></p>
<h3 id="99-第三方服务整合的比较全面的DEMO欣赏"><a href="#99-第三方服务整合的比较全面的DEMO欣赏" class="headerlink" title="(99) 第三方服务整合的比较全面的DEMO欣赏"></a>(99) 第三方服务整合的比较全面的DEMO欣赏</h3><ul>
<li><p><a href="https://lruihao.cn/" target="_blank" rel="noopener">博採眾長</a></p>
<blockquote>
<p>「关于」页面特别地还有个网易音乐播放，不错，另外，博客最底部的优化的不错，打算借鉴。</p>
</blockquote>
</li>
<li><p><a href="https://www.vincentqin.tech/" target="_blank" rel="noopener">Vincent Qin</a></p>
</li>
<li><p><a href="http://wustxiao.cn/" target="_blank" rel="noopener">wustxiao’s blog</a></p>
</li>
<li><p><a href="http://www.aisun.org/" target="_blank" rel="noopener">Zack’s Blog</a></p>
</li>
<li><p><a href="https://l-cw.github.io/" target="_blank" rel="noopener">进击的学霸的博客</a></p>
</li>
</ul>
<h2 id="三、博客速度-SEO优化"><a href="#三、博客速度-SEO优化" class="headerlink" title="三、博客速度/SEO优化"></a>三、博客速度/SEO优化</h2><h3 id="1-SEO"><a href="#1-SEO" class="headerlink" title="(1) SEO"></a>(1) SEO</h3><p>参考：<a href="https://segmentfault.com/a/1190000009254968" target="_blank" rel="noopener">hexo 博客 seo 优化</a></p>
<h3 id="2-速度优化"><a href="#2-速度优化" class="headerlink" title="(2) 速度优化"></a>(2) 速度优化</h3><p><em>注：关于访问速度优化，本人还未实践…</em> </p>
<p>参考：</p>
<ul>
<li><a href="http://waberyang.com/2017/03/12/Hexo%E5%8D%9A%E5%AE%A2-Next%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E4%B9%8B%E8%B7%AF/" target="_blank" rel="noopener">Hexo博客-Next性能优化之路 | Waber’s Blog</a></li>
<li><a href="https://www.jianshu.com/p/93b63852f0b3" target="_blank" rel="noopener">Hexo博客之速度优化 - 简书</a></li>
<li><a href="https://blog.csdn.net/dataiyangu/article/details/84963491" target="_blank" rel="noopener">hexo next主题深度优化(六)，使用hexo-neat插件压缩页面，大幅度提升页面性能和响应速度</a></li>
</ul>
<h2 id="四、主题制作"><a href="#四、主题制作" class="headerlink" title="四、主题制作"></a>四、主题制作</h2><ul>
<li><a href="http://www.ahonn.me/2016/12/15/create-a-hexo-theme-from-scratch/" target="_blank" rel="noopener">从零开始制作 Hexo 主题</a></li>
<li><a href="https://segmentfault.com/a/1190000006057336" target="_blank" rel="noopener">写一个自己的Hexo主题</a></li>
</ul>
<h2 id="附录-配置文件说明"><a href="#附录-配置文件说明" class="headerlink" title="附录-配置文件说明"></a>附录-配置文件说明</h2><p>Hexo 的各种通用的配置都是在博客根目录行下的 <code>_config.yml</code> 文件中设置的。下面介绍一些常用的配置项：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"># Site 基本信息</span><br><span class="line">title: Ruikye                      # 博客标题，如左上角显示</span><br><span class="line">subtitle: ruikye 的个人博客         # 博客副标题</span><br><span class="line">description: 移动开发技术分享博客     # 用于搜索引擎搜索到的描述信息</span><br><span class="line">author: 零雨の夜                    # 博客署名，一般会现在在博客的最下方，rg: &amp;copy;2014 零雨の夜</span><br><span class="line">email: xxx@xxx.com                # 可不填</span><br><span class="line">language: zh-CN                   # 让博客支持中文</span><br><span class="line">...</span><br><span class="line"># Writing</span><br><span class="line">...</span><br><span class="line">highlight:              # 代码高亮</span><br><span class="line">  enable: true          # 开启代码高亮</span><br><span class="line">  line_number: false    # 是否显示行号</span><br><span class="line">  tab_replace: true     # 是否替换 tab 为空格</span><br><span class="line">...</span><br><span class="line"># Pagination</span><br><span class="line">## Set per_page to 0 to disable pagination</span><br><span class="line">per_page: 1             # 文章分页时，每页最多显示文章数，eg: 我的博客在首页和归档页最多只显示一篇文章</span><br><span class="line">pagination_dir: page    # 分页目录</span><br><span class="line">...</span><br><span class="line"># Extensions</span><br><span class="line">## Plugins: https://github.com/hexojs/hexo/wiki/Plugins</span><br><span class="line">## Themes: https://github.com/hexojs/hexo/wiki/Themes</span><br><span class="line">theme: bs-light         # 这里配置博客的主题风格，主题安装在 themes/ 目录下，这里的值就是主题的文件夹名字 </span><br><span class="line">exclude_generator:</span><br><span class="line">plugins:</span><br><span class="line">- hexo-generator-feed   # 安装、启用的插件，这里是启动 RSS 订阅的插件</span><br><span class="line"># Deployment</span><br><span class="line">## Docs: http://hexo.io/docs/deployment.html</span><br><span class="line">deploy:</span><br><span class="line">  type: github                                                  # 博客托管服务器类型</span><br><span class="line">  repository: https://github.com/rakkang/rakkang.github.io.git  # 托管服务器地址</span><br><span class="line">  brach: master                                                 # 博客使用的代码分支</span><br></pre></td></tr></table></figure>
<p>除了 Hexo 的通用配置外，每个主题还有各自的配置文件，主题的配置文件放在：<code>themes/[xxx]/_config.yml</code>, 如：<code>themes/bs-light/_config.yml</code>，下面以 <code>bs-light</code> 为例：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"># 导航栏，如右上角的显示，Tips: RSS 栏是插件添加的不再这里</span><br><span class="line">menu:</span><br><span class="line">  首页: /                 # 格式是：[显示标签]:[索引目录]</span><br><span class="line">  存档: /archives</span><br><span class="line"># 文章右边的小部件</span><br><span class="line">widgets:</span><br><span class="line"># search/tag/category/recent_posts/tagcloud   ----&gt; 这里是 bs-light 的可用小部件</span><br><span class="line">- search                 # 搜索框</span><br><span class="line">- recent_posts           # 最近发布的文章</span><br><span class="line">- category               # 存档目录</span><br><span class="line">- tagcloud               # 文章的标签集合</span><br><span class="line"># 如果在文章的 *.md 中使用 <span class="comment">&lt;!-- more --&gt;</span>，那么之后的内容不会在首页显示，而是显示 阅读全文 的链接，显示可以更改</span><br><span class="line"># 如：更多，查看原文等</span><br><span class="line">excerpt_link: 阅读全文</span><br><span class="line"># 博客的社交分享，eg: 博客底部的两个图标</span><br><span class="line">social:</span><br><span class="line"># key weibo/twitter/google/github/stackoverflow/rss</span><br><span class="line"># value url</span><br><span class="line"># e.g github: https://github.com/DaiXiang</span><br><span class="line">  github: https://github.com/rakkang</span><br><span class="line">  rss: /atom.xml</span><br><span class="line">...</span><br><span class="line">cnzz_analytics: true     # 博客的访问统计，这里使用 CNZZ 的统计</span><br><span class="line"># google_analytics:</span><br><span class="line"># rss:</span><br><span class="line"># comment_provider:      # 评论功能，一般使用国内的 多说评论</span><br><span class="line"># Facebook comment</span><br></pre></td></tr></table></figure>
<hr>
<p><em>update：2018-01-30</em></p>
<p><em>update：2019-02-13 标题由「Hexo之NexT主题的配置及遇到的问题」改为了「NexT主题的优化定制修改指南.」；增加了很多内容，如「2.第三方服务及其他修改」这节内容；其他地方做了一些删减和修改。</em> </p>
<p><em>update：2019-02-14 补充完善和添加了很多内容。</em>  </p>
<p><em>update：2019-02-15 添加了「添加RSS订阅功能」、「取消文章目录对标题的自动编号和取消目录」等小节、以及站点底部和页面样式的一些修改等</em></p>
<p><em>update：2019-02-17 修改了一点页面样式；增加了「三、博客速度/SEO优化」节；增加了博客 favicon</em>  </p>
<p><em>update：2019-06-16</em></p>
<blockquote>
<p>1、设置了 scheme: Gemini。注：新版的 NexT 主题源码早已转移在了这个仓库 <em><a href="https://github.com/theme-next/hexo-theme-next" target="_blank" rel="noopener">https://github.com/theme-next/hexo-theme-next</a></em>  </p>
<p>2、修改 <code>/themes/source/css/_custom/custom.styl</code>：取消了「网页加载进度条」；设置了顶部条 <code>height: 2px</code>；设置底部页码 <code>border-radius: 0%</code>；</p>
<p>3、注释了 <code>source/css/_variables/custom.styl</code> 中的这两行代码：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> $main-desktop = 1200px</span><br><span class="line"> $content-desktop = 950px</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
<p>在 <code>source/css/_variables/Gemini.styl</code> 文件中设置 <code>$main-desktop</code> 为 75%：<code>$main-desktop=75%</code></p>
</blockquote>
<p><em>update：2019-07-04</em> </p>
<blockquote>
<p>1、打开 <code>/themes/source/css/_custom/custom.styl</code>：①侧边栏信息样式 border-radius 修改为了 0， <code>border-radius: 0px;</code>，②更换了博客背景图，③ 修改尾部 .footer 的 +mobel() 下的样式 bottom 为 120 px，用来解决手机端底部的显示阻挡页面翻页的按钮。④设置了 body 样式，从而在手机端不显示背景图 ⑤设置了顶部条在手机端显示白色，高度为0px。⑤修改了顶部条样式 ⑥去除了标题颜色等样式，添加了点别的样式 ⑦设置了 body 样式下的手机端字体大小为 14 px ⑧以及一些其他小的修改</p>
<p>2、打开 <code>/themes/next/layout/_layout.swig</code>，设置底部版声明的字体样式为黑色 <code>color:black</code></p>
<p>3、添加了「禁用打赏文字抖动」</p>
</blockquote>
<p><em>update：2019-07-07</em></p>
<blockquote>
<p>1、添加了文章标题下的评论字样的显示。</p>
<p>2、修改了文章标题下的发表、分类、访问次数、文章字数、阅读时间等为英文。</p>
<p>3、增加了菜单</p>
</blockquote>

      
    </div>
    
    
    

    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>觉得文章对您有帮助请我喝杯咖啡吧^_^</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>打赏</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/uploads/award_wx_400x400.png" alt="Jaybo 微信支付">
        <p>微信支付</p>
      </div>
    

    

    

  </div>
</div>

      </div>
    

    

    <footer class="post-footer">
		<!-- 版权声明方式，暂时先注释掉
		
			<div>    
			  
			  <ul class="post-copyright">
				 <li class="post-copyright-link">
				  <strong>本文作者：</strong>
				  <a href="/" title="欢迎访问 Jaybo 的个人博客">Jaybo</a>
				</li>
				<li class="post-copyright-link">
				  <strong>本文标题：</strong>
				  <a href="http://yoursite.com/2019/02/17/篇Ⅱ：NexT主题的配置和优化指南/" title="篇Ⅱ：NexT主题的配置和优化指南">篇Ⅱ：NexT主题的配置和优化指南</a>
				</li>
				<li class="post-copyright-link">
				  <strong>本文链接：</strong>
				  <a href="http://yoursite.com/2019/02/17/篇Ⅱ：NexT主题的配置和优化指南/" title="篇Ⅱ：NexT主题的配置和优化指南">http://yoursite.com/2019/02/17/篇Ⅱ：NexT主题的配置和优化指南/</a>
				</li>
				<li class="post-copyright-date">
					<strong>发布时间：</strong>2019年2月17日 - 20时02分
				</li>  
				<li class="post-copyright-license">
				  <strong>版权声明： </strong>
				  本文由 Jaybo 原创，采用 <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/deed.zh" rel="license" target="_blank">保留署名-非商业性使用-禁止演绎 4.0-国际许可协议</a> </br>转载请保留以上声明信息！
				</li>
			  </ul>
			
			</div>
		-->
      
        <div class="post-tags">
          
            <a href="/tags/Blog/" rel="tag"><i class="fa fa-tag"></i> Blog</a>
          
            <a href="/tags/NexT/" rel="tag"><i class="fa fa-tag"></i> NexT</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/02/14/篇Ⅰ：基于Hexo+GitHub Page搭建免费博客并绑定域名以及博客备份/" rel="next" title="篇Ⅰ：基于Hexo+GitHub Page搭建免费博客并绑定域名以及博客备份">
                <i class="fa fa-chevron-left"></i> 篇Ⅰ：基于Hexo+GitHub Page搭建免费博客并绑定域名以及博客备份
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/02/21/利用GitBook制作电子书，发布于网络并绑定个性域名/" rel="prev" title="利用GitBook制作电子书，发布于网络并绑定个性域名">
                利用GitBook制作电子书，发布于网络并绑定个性域名 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
    </div>
  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

		

  <aside id="sidebar" class="sidebar">
    
	
	<div>
		<!-- 左侧菜单与头像之间插入音乐播放 -->
	</div>
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      
		
      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/uploads/avatar.jpg" alt="Jaybo">
            
              <p class="site-author-name" itemprop="name">Jaybo</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">12</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">3</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">14</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
					<! --增加的下面这行 -->
                     
                    <a href="https://github.com/jayboxyz" target="_blank" title="GitHub &rarr; https://github.com/jayboxyz">
                      
                        <i class="fa fa-fw fa-github-square"></i></a>
                  </span>
                
                  <span class="links-of-author-item">
					<! --增加的下面这行 -->
                     
                    <a href="https://blog.csdn.net/u012195214" target="_blank" title="CSDN &rarr; https://blog.csdn.net/u012195214">
                      
                        <i class="fa fa-fw fa-pie-chart"></i></a>
                  </span>
                
                  <span class="links-of-author-item">
					<! --增加的下面这行 -->
                     
                    <a href="https://juejin.im/user/59efef14f265da431a426511" target="_blank" title="掘金 &rarr; https://juejin.im/user/59efef14f265da431a426511">
                      
                        <i class="fa fa-fw fa-bandcamp"></i></a>
                  </span>
                
                  <span class="links-of-author-item">
					<! --增加的下面这行 -->
                     
                    <a href="mailto:ishuzb@foxmail.com" target="_blank" title="邮箱 &rarr; mailto:ishuzb@foxmail.com">
                      
                        <i class="fa fa-fw fa-envelope"></i></a>
                  </span>
                
            </div>
          

          
          
		  
		  <! --增加的下面这部分，知识共享协议 -->
		  
             <div class="cc-license motion-element" itemprop="license"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="external nofollow noopener noreferrer" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a></div>
          
		  
          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-inline">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                推荐阅读
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.ruanyifeng.com/home.html" title="阮一峰" target="_blank">阮一峰</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://coolshell.cn/" title="左耳朵耗子(陈皓)" target="_blank">左耳朵耗子(陈皓)</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.liaoxuefeng.com/" title="廖雪峰" target="_blank">廖雪峰</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://macshuo.com/" title="MacTalk" target="_blank">MacTalk</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.runoob.com/" title="菜鸟教程" target="_blank">菜鸟教程</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://strivebo.com/categories/Blog" title="建站日志" target="_blank">建站日志</a>
                  </li>
                
              </ul>
            </div>
          
		
          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#写在前面"><span class="nav-text">写在前面</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#一、主题基本配置"><span class="nav-text">一、主题基本配置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#0-主题设置-动态背景-显示当前浏览进度"><span class="nav-text">(0) 主题设置/动态背景/显示当前浏览进度</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-关于文章所属「分类」和「标签」的设置"><span class="nav-text">(1) 关于文章所属「分类」和「标签」的设置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-添加本地添加搜索菜单"><span class="nav-text">(2) 添加本地添加搜索菜单</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-添加文章字数统计、阅读时长（next主题已经集成）"><span class="nav-text">(3) 添加文章字数统计、阅读时长（next主题已经集成）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-设置友情链接"><span class="nav-text">(4) 设置友情链接</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-设置侧边栏头像"><span class="nav-text">(5) 设置侧边栏头像</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-设置订阅微信公众号"><span class="nav-text">(6) 设置订阅微信公众号</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-开启打赏、禁用打赏文字抖动"><span class="nav-text">(7) 开启打赏、禁用打赏文字抖动</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-添加RSS订阅功能"><span class="nav-text">(8) 添加RSS订阅功能</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-文章字数统计、阅读时长开启和关闭，以及使用图标还是文本"><span class="nav-text">(9) 文章字数统计、阅读时长开启和关闭，以及使用图标还是文本</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#遇到的问题"><span class="nav-text">遇到的问题</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1）菜单图标显示异常"><span class="nav-text">1）菜单图标显示异常</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2）友情链接图标显示异常"><span class="nav-text">2）友情链接图标显示异常</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二、进阶优化配置"><span class="nav-text">二、进阶优化配置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-在线联系（DaoVoice）"><span class="nav-text">(1) 在线联系（DaoVoice）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-评论Disqus和文章显示评论数——已更换为LeanCloud的Valine评论功能"><span class="nav-text">(2) 评论Disqus和文章显示评论数——已更换为LeanCloud的Valine评论功能</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-文章阅读次数（注：-使用的LeanCloud）"><span class="nav-text">(3)文章阅读次数（注： 使用的LeanCloud）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-动态背景、点击出现桃心效果、去除文章底部带-号的标签、文章下面标签样式更改"><span class="nav-text">(4 动态背景、点击出现桃心效果、去除文章底部带#号的标签、文章下面标签样式更改</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-更改正文和代码的字体-更改内容区域的宽度"><span class="nav-text">(5) 更改正文和代码的字体/更改内容区域的宽度</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-添加自定义菜单"><span class="nav-text">(6) 添加自定义菜单</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-添加音乐、视频"><span class="nav-text">(7) 添加音乐、视频</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-设置标题样式（为浅蓝色）"><span class="nav-text">(8) 设置标题样式（为浅蓝色）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-设置文章封面图片"><span class="nav-text">(9) 设置文章封面图片</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10-网页加载进度条"><span class="nav-text">(10) 网页加载进度条</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#11-底部：显示-或隐藏-底部”强力驱动”和版本"><span class="nav-text">(11) 底部：显示(或隐藏)底部”强力驱动”和版本</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#12-底部：设定站点建立时间和作者名称"><span class="nav-text">(12) 底部：设定站点建立时间和作者名称</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13-底部：添加网站已运行时间"><span class="nav-text">(13) 底部：添加网站已运行时间</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#14-底部：添加访问人数和访问量-使用的不蒜字统计-、全站总字数"><span class="nav-text">(14) 底部：添加访问人数和访问量(使用的不蒜字统计)、全站总字数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#15-设置文章加密访问"><span class="nav-text">(15) 设置文章加密访问</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#16-文章末尾添加”本文结束”标记-文章末尾追加版权信息"><span class="nav-text">(16) 文章末尾添加”本文结束”标记/文章末尾追加版权信息</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#17-取消文章目录对标题的自动编号和取消目录"><span class="nav-text">(17) 取消文章目录对标题的自动编号和取消目录</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#18-在右上角或者左上角实现fork-me-on-github"><span class="nav-text">(18) 在右上角或者左上角实现fork me on github</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#19-底部大改版：添加自定义版权等信息、访问人数-次、网站运行时间、修改底部的桃心"><span class="nav-text">(19) 底部大改版：添加自定义版权等信息、访问人数/次、网站运行时间、修改底部的桃心</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#20-左侧添加社交链接和协议"><span class="nav-text">(20) 左侧添加社交链接和协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#21-关于页面样式的修改，如链接的颜色、回顶部按钮样式、底部页码等等"><span class="nav-text">(21) 关于页面样式的修改，如链接的颜色、回顶部按钮样式、底部页码等等</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#22-更换博客背景图"><span class="nav-text">(22) 更换博客背景图</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#23-设置博客的图标favicon"><span class="nav-text">(23) 设置博客的图标favicon</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#24-文章标题下显示评论或Comments字样"><span class="nav-text">(24) 文章标题下显示评论或Comments字样</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#25-设置文章标题下的发表、分类、访问次数、文章字数、阅读时间等为英文"><span class="nav-text">(25) 设置文章标题下的发表、分类、访问次数、文章字数、阅读时间等为英文</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#26-设置文章加密"><span class="nav-text">(26) 设置文章加密</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#99-第三方服务整合的比较全面的DEMO欣赏"><span class="nav-text">(99) 第三方服务整合的比较全面的DEMO欣赏</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#三、博客速度-SEO优化"><span class="nav-text">三、博客速度/SEO优化</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-SEO"><span class="nav-text">(1) SEO</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-速度优化"><span class="nav-text">(2) 速度优化</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#四、主题制作"><span class="nav-text">四、主题制作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#附录-配置文件说明"><span class="nav-text">附录-配置文件说明</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

<div class="copyright"><font color="black" face="STLiti">Copyright &nbsp;</font><font color="black">&copy;</font> <font color="black" face="STLiti">2017 - </font><font color="black" face="STLiti"><span itemprop="copyrightYear">2020</span></font>
  <span class="with-love" id="animate" style="font-size: 13px">
    <!-- <i class="fa fa-user"></i> -->
	<!-- <i class="fa fa-star"></i> -->
	<i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder" style="font-family:STLiti;color:black;">Jaybo . All Rights Reserved.</span>

  
</div>

<!--此处为建站时间 -->
  <script>
    var now = new Date(); 
    function createtime() { 
        var grt= new Date("04/17/2017 20:01:01");
        now.setTime(now.getTime()+250); 
        days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days); 
        hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours); 
        if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum); 
        mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;} 
        seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum); 
        snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;} 
        document.getElementById("timeDate").innerHTML =dnum+"&thinsp;天"; 
        document.getElementById("times").innerHTML = hnum + "&thinsp;时" + mnum + "&thinsp;分" + snum + "&thinsp;秒"; 
    } 
  setInterval("createtime()",250);
  </script>

<!-- end -->






	




        
<div class="busuanzi-count">
  <script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <font color="DarkSlateGray" face="STLiti"><span class="site-uv" title="访问人数">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>人次
    </span><span class="post-meta-divider">|</span></font>
    <font color="DarkSlateGray" face="STLiti">
    <span title="总字数"><i class="fa fa-edit"></i>&ensp;<span class="post-count">65.7k</span>字,</span>
    <span id="timeDate" title="网站运行时间">载入天数...</span><span id="times" title="网站运行时间">载入时分秒...</span><span class="post-meta-divider">|</span>
    </font>
  

  
    <font color="DarkSlateGray" face="STLiti"><span class="site-pv" title="总访问量">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>次
    </span></font>
  
</div>








		<!--版权等自定义↓-->
		
		<div style="font-family:Courier New;display:inline-block;height:20px;line-height:20px;color:black">
			Powered by <a target="_blank" href="https://hexo.io/zh-cn/index.html">Hexo</a>,Theme by 
			<a target="_blank" href="https://github.com/iissnan/hexo-theme-next/tree/v5.1.4">NexT.Gemini.v5.1.4</a>. Hosted by <a target="_blank" href="https://pages.github.com/">GitHub Page</a>
        </div>
		
		<!--备案等自定义↓-->
		<!--
		<div style="font-family:STLiti;display:inline-block;height:20px;line-height:20px;">
        <a target="_blank" href="" ><img src="/images/gov.png" style="float:left;"/>赣公网安备 xxxxxxxxxxxx号</a>
        <span class="post-meta-divider" style="color: #555;">|</span><span><a href="http://www.miitbeian.gov.cn" target="_blank">赣ICP备xxxxx号</a></sapn>
        </div> -->
		
        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  










  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
  
  <script type="text/javascript">
    var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item=>{
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: false,
        notify: true,
        appId: 'MhbxUrTu9FJ0T1iq1HupHO29-gzGzoHsz',
        appKey: 'PMMgr6Xmfk6n1aKfuKzLwe5p',
        placeholder: 'Just go go',
        avatar:'mm',
        guest_info:guest,
        pageSize:'10' || 10,
    });
  </script>



  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("MhbxUrTu9FJ0T1iq1HupHO29-gzGzoHsz", "PMMgr6Xmfk6n1aKfuKzLwe5p");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  
  

  
  


  

  

</body>
</html>

<!-- 页面点击小红心 --> 
<!--<script type="text/javascript" src="/js/src/love.js"></script>-->
